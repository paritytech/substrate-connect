const __vite__fileDeps=["./index-browser-DLZDlqA4.js","./no-auto-bytecode-browser-RAwks-y8.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
var Ps=Object.defineProperty;var Rs=(e,t,n)=>t in e?Ps(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var N=(e,t,n)=>(Rs(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();const Ts="modulepreload",Ws=function(e,t){return new URL(e,t).href},$n={},qe=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){const s=document.getElementsByTagName("link"),i=document.querySelector("meta[property=csp-nonce]"),a=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));o=Promise.all(n.map(c=>{if(c=Ws(c,r),c in $n)return;$n[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(!!r)for(let l=s.length-1;l>=0;l--){const p=s[l];if(p.href===c&&(!u||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":Ts,u||(f.as="script",f.crossOrigin=""),f.href=c,a&&f.setAttribute("nonce",a),document.head.appendChild(f),u)return new Promise((l,p)=>{f.addEventListener("load",l),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}return o.then(()=>t()).catch(s=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=s,window.dispatchEvent(i),!i.defaultPrevented)throw s})};var Us=Object.defineProperty,Ms=(e,t)=>{for(var n in t)Us(e,n,{get:t[n],enumerable:!0})},z=(e=>(e.polkadot="polkadot",e.ksmcc3="ksmcc3",e.rococo_v2_2="rococo_v2_2",e.westend2="westend2",e))(z||{}),Ks=class extends Error{constructor(){super(),this.name="AlreadyDestroyedError"}},Hn=class extends Error{constructor(e){super(e),this.name="CrashError"}},$s=class extends Error{constructor(){super(),this.name="JsonRpcDisabledError"}},Hs=()=>{const e=[];return window.dispatchEvent(new CustomEvent("substrateDiscovery:requestProvider",{detail:{onProvider(n){e.push(n)}}})),e.slice()},zs={};Ms(zs,{defaultWellKnownChainGenesisHashes:()=>xr,make:()=>js});var xr={polkadot:"0x91b171bb158e2d3848fa23a9f1c25182fb8e20313b2c1eb49219da7a70ce90c3",ksmcc3:"0xb0a8d493285c2df73290dfb7e61f870f17b41801197a149ca93654499ea3dafe",westend2:"0xe143f23803ac50e8f6f8e62695d1ce9e4e1d68aa36c1cd2cfd15340213f3423e",rococo_v2_2:"0x6408de7737c59c238890533af25896a2c20608d8b380bb01029acb392781063e"},js=({wellKnownChainGenesisHashes:e=xr,lightClientProvider:t})=>{const n=async(r,o,s=()=>{},i)=>{let a;if(r){const u=Object.values(t.getChains()).find(({genesisHash:d})=>d===e[o]);if(!u)throw new Error("Unknown well-known chain");a=u}else a=await t.getChain(o,i);const c=a.connect(s);return{sendJsonRpc(u){c.send(u)},remove(){c.disconnect()},addChain:function(u,d){return n(!1,u,d,a.genesisHash)}}};return{addChain:(r,o)=>n(!1,r,o),addWellKnownChain:(r,o)=>n(!0,r,o)}},Ns="smoldot-v1",Fs=e=>e.kind===Ns,qs=()=>Hs().filter(Fs),Vs=Object.defineProperty,Js=Object.defineProperties,Gs=Object.getOwnPropertyDescriptors,zn=Object.getOwnPropertySymbols,Ys=Object.prototype.hasOwnProperty,Xs=Object.prototype.propertyIsEnumerable,jn=(e,t,n)=>t in e?Vs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Qs=(e,t)=>{for(var n in t||(t={}))Ys.call(t,n)&&jn(e,n,t[n]);if(zn)for(var n of zn(t))Xs.call(t,n)&&jn(e,n,t[n]);return e},Zs=(e,t)=>Js(e,Gs(t)),Ge=(e,t,n)=>new Promise((r,o)=>{var s=c=>{try{a(n.next(c))}catch(u){o(u)}},i=c=>{try{a(n.throw(c))}catch(u){o(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,i);a((n=n.apply(e,t)).next())}),Ne=new Map;function ei(e){return Ge(this,null,function*(){if(!Object.keys(z).includes(e))throw new Error("Invalid chain name");const t=e;if(!Ne.has(t))switch(t){case z.polkadot:{Ne.set(z.polkadot,qe(()=>import("./polkadot-BBdMoWA8.js"),[],import.meta.url));break}case z.ksmcc3:{Ne.set(z.ksmcc3,qe(()=>import("./ksmcc3-BwkAGB8E.js"),[],import.meta.url));break}case z.westend2:{Ne.set(z.westend2,qe(()=>import("./westend2-B6321fjf.js"),[],import.meta.url));break}case z.rococo_v2_2:{Ne.set(z.rococo_v2_2,qe(()=>import("./rococo_v2_2-CCQ1uTM-.js"),[],import.meta.url));break}}return(yield Ne.get(t)).chainSpec})}var ti=![typeof window,typeof document].includes("undefined"),_r=class{},kt=null,ni=()=>kt||(kt=qe(()=>import("./index-browser-DLZDlqA4.js"),__vite__mapDeps([0,1]),import.meta.url).then(e=>(_r=e.QueueFullError,e.start)),kt),Et=null,ri=()=>Et||(Et=qe(()=>import("./no-auto-bytecode-browser-RAwks-y8.js"),[],import.meta.url).then(e=>e.startWithBytecode),Et),Ve=[],fe=null,Ye=3,Nn=e=>{if(e.maxLogLevel&&e.maxLogLevel>Ye&&(Ye=e.maxLogLevel),fe)return Ve.push(e),fe instanceof Promise?fe:Promise.resolve(fe);let t,n;if(e.workerFactory){t=e.workerFactory();const{port1:s,port2:i}=new MessageChannel;t.postMessage(s,[s]),n=i}const r={portToWorker:n,forbidTcp:!0,forbidNonLocalWs:!0,maxLogLevel:9999999,cpuRateLimit:.5,logCallback:(s,i,a)=>{s>Ye||(s<=1?console.error("[%s] %s",i,a):s===2?console.warn("[%s] %s",i,a):s===3?console.info("[%s] %s",i,a):s===4?console.debug("[%s] %s",i,a):console.trace("[%s] %s",i,a))}},o=t?ri().then(s=>s(Zs(Qs({},r),{bytecode:new Promise(i=>{ti?t.onmessage=a=>i(a.data):t.on("message",a=>i(a))})}))):ni().then(s=>s(r));return fe=o,o.then(s=>(fe===o?fe=s:s.terminate(),s)),Ve.push(e),fe},Vt=e=>{const t=Ve.indexOf(e);if(t===-1)throw new Error("Internal error within smoldot");Ve.splice(t,1),Ye=3;for(const n of Ve.values())n.maxLogLevel&&n.maxLogLevel>Ye&&(Ye=n.maxLogLevel);Ve.length===0&&(fe&&!(fe instanceof Promise)&&fe.terminate(),fe=null)},Fn=e=>{try{e()}catch(t){const n=t;throw(n==null?void 0:n.name)==="JsonRpcDisabledError"?new $s:(n==null?void 0:n.name)==="CrashError"?new Hn(n.message):(n==null?void 0:n.name)==="AlreadyDestroyedError"?new Ks:new Hn(t instanceof Error?t.message:`Unexpected error ${t}`)}},oi=e=>{const t={maxLogLevel:3},n=(s,i,a,c)=>Ge(void 0,null,function*(){const u=yield Nn(t);try{const d=yield u.addChain({chainSpec:s,potentialRelayChains:c?[c]:void 0,disableJsonRpc:i===void 0,databaseContent:a});return Ge(void 0,null,function*(){for(;;){let h;try{h=yield d.nextJsonRpcResponse()}catch{break}try{i(h)}catch(f){console.error("JSON-RPC callback has thrown an exception:",f)}}}),{sendJsonRpc:h=>{Fn(()=>{try{d.sendJsonRpc(h)}catch(f){if(f instanceof _r)try{const l=JSON.parse(h);i(JSON.stringify({jsonrpc:"v2",id:l.id,error:{code:-32e3,message:"JSON-RPC server is too busy"}}))}catch{}else throw f}})},remove:()=>{try{Fn(()=>{d.remove()})}finally{Vt(t)}},addChain:(h,f,l)=>n(h,f,l,d)}}catch(d){throw Vt(t),d}});return{addChain:(s,i,a)=>n(s,i,a),addWellKnownChain:(s,i,a)=>Ge(void 0,null,function*(){Nn(t);try{return yield n(yield ei(s),i,a)}finally{Vt(t)}})}},si=e=>{const t=ii(),n=t||oi();return{addChain(r,o,s){return Ge(this,null,function*(){return(yield n).addChain(r,o,s)})},addWellKnownChain(r,o,s){return Ge(this,null,function*(){return(yield n).addWellKnownChain(r,o,s)})}}};function ii(){return typeof document!="object"||typeof CustomEvent!="function"?void 0:qs().filter(t=>t.info.rdns.startsWith("io.github.paritytech.SubstrateConnect")).map(t=>t.provider)[0]}var qn="0123456789abcdef";function Se(e){const t=new Array(e.length+1);t[0]="0x";for(let n=0;n<e.length;){const r=e[n++];t[n]=qn[r>>4]+qn[r&15]}return t.join("")}var Jt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,b:11,c:12,d:13,e:14,f:15,A:10,B:11,C:12,D:13,E:14,F:15};function ht(e){const t=e.length%2,n=(e[1]==="x"?2:0)+t,r=(e.length-n)/2+t,o=new Uint8Array(r);t&&(o[0]=0|Jt[e[2]]);for(let s=0;s<r;){const i=n+s*2,a=Jt[e[i]],c=Jt[e[i+1]];o[t+s++]=a<<4|c}return o}function un(e,t){return Object.fromEntries(Object.entries(e).map(([n,r])=>[n,t(r,n)]))}var Qe=(...e)=>{const t=e.reduce((r,o)=>r+o.byteLength,0),n=new Uint8Array(t);for(let r=0,o=0;r<e.length;r++){const s=e[r];n.set(s,o),o+=s.byteLength}return n},ft=Function.prototype,ai=class extends Error{constructor(){super("Abort Error"),this.name="AbortError"}},ci=Object.defineProperty,ui=(e,t,n)=>t in e?ci(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Vn=(e,t,n)=>ui(e,typeof t!="symbol"?t+"":t,n),Mt=e=>(...t)=>new Promise((n,r)=>{let o=ft;const[s,i]=t[t.length-1]instanceof AbortSignal?[t.slice(0,t.length-1),t[t.length-1]]:[t],a=()=>{o(),r(new ai)};i==null||i.addEventListener("abort",a,{once:!0});const c=u=>d=>{o=ft,i==null||i.removeEventListener("abort",a),u(d)};o=e(c(n),c(r),...s)});function li(){let e=()=>{},t=()=>{};return{promise:new Promise((r,o)=>{e=r,t=o}),res:e,rej:t}}var Me=()=>{},Ar=()=>{const e=new Map;return{has:e.has.bind(e),subscribe(t,n){e.set(t,n)},unsubscribe(t){e.delete(t)},next(t,n){var r;(r=e.get(t))==null||r.next(n)},error(t,n){const r=e.get(t);r&&(e.delete(t),r.error(n))},errorAll(t){const n=[...e.values()];e.clear(),n.forEach(r=>{r.error(t)})}}},ae={body:"",call:"",continue:"",follow:"",header:"",stopOperation:"",storage:"",unfollow:"",unpin:"",followEvent:""},dt={chainName:"",genesisHash:"",properties:""},Bt={broadcast:"",stop:""},fi={submitAndWatch:"",unwatch:""};Object.entries({chainHead:ae,chainSpec:dt,transaction:Bt,transactionWatch:fi}).forEach(([e,t])=>{Object.keys(t).forEach(n=>{t[n]=`${e}_v1_${n}`})});var di=e=>(t,n)=>{let r=e(Bt.broadcast,[t],{onSuccess:o=>{r=o===null?Me:()=>{e(Bt.stop,[o])},o===null&&n(new Error("Max # of broadcasted transactions has been reached"))},onError:n});return()=>{r()}},Ir=class extends Error{constructor(){super("ChainHead stopped"),this.name="StopError"}},_t=class extends Error{constructor(){super("ChainHead disjointed"),this.name="DisjointError"}},Kt=class extends Error{constructor(){super("ChainHead operations limit reached"),this.name="OperationLimitError"}},Dr=class extends Error{constructor(e){super(e),this.name="OperationError"}},bn=class extends Error{constructor(){super("ChainHead operation inaccessible"),this.name="OperationInaccessibleError"}},Br=(e,t)=>n=>Mt((r,o,...s)=>{let i=!0,a=()=>{i=!1};const[c,u]=t(...s);return n(e,c,{onSuccess:(d,h)=>{if(d.result==="limitReached")return o(new Kt);const{operationId:f}=d,l=()=>{n(ae.stopOperation,[f])};if(!i)return l();let p=Me;const v=b=>{i=!1,p(),r(b)},m=b=>{i=!1,p(),o(b)};p=h(f,{next:b=>{const g=b;g.event==="operationError"?o(new Dr(g.error)):g.event==="operationInaccessible"?o(new bn):u(b,v,m)},error:m}),a=()=>{i&&(p(),l())}},onError:o}),()=>{a()}}),hi=Br(ae.body,e=>[[e],(t,n)=>{n(t.value)}]),pi=Br(ae.call,(e,t,n)=>[[e,t,n],(r,o)=>{o(r.output)}]),vi=e=>t=>new Promise((n,r)=>{e(ae.header,[t],{onSuccess:n,onError:r})}),Cr=e=>(t,n,r,o,s,i,a)=>{if(n.length===0)return i(),ft;let c=!0,u=()=>{c=!1};return e(ae.storage,[t,n,r],{onSuccess:(d,h)=>{if(d.result==="limitReached"||d.discardedItems===n.length)return s(new Kt);const{operationId:f}=d,l=()=>{e(ae.stopOperation,[f])};if(!c)return l();const p=h(d.operationId,{next:b=>{switch(b.event){case"operationStorageItems":{o(b.items);break}case"operationStorageDone":{m();break}case"operationError":{v(new Dr(b.error));break}case"operationInaccessible":{v(new bn);break}default:e(ae.continue,[b.operationId])}},error:s});u=()=>{p(),e(ae.stopOperation,[d.operationId])};const v=b=>{u=ft,p(),s(b)},m=()=>{u=ft,p(),i()};a(d.discardedItems)},onError:s}),()=>{u()}},mi=e=>{const t=Cr(e);return Mt((n,r,o,s,i,a)=>{const c=s.startsWith("descendants");let u=c?[]:null;const h=t(o,[{key:i,type:s}],a??null,c?f=>{u.push(f)}:f=>{var l;u=(l=f[0])==null?void 0:l[s]},r,()=>{try{n(c?u.flat():u)}catch(f){r(f)}},f=>{f>0&&(h(),r(new Kt))});return h})},bi=e=>t=>t.length>0?new Promise((n,r)=>{e(ae.unpin,[t],{onSuccess(){n()},onError:r})}):Promise.resolve(),Ct=class extends Error{constructor(){super("Client destroyed"),this.name="DestroyedError"}};function yi(e){return e.operationId!==void 0}function wi(e){return(t,n,r)=>{const o=Ar(),s=new Set,i=li();let a=i.promise;const c=p=>{if(yi(p))return o.has(p.operationId)||console.warn("Uknown operationId on",p),o.next(p.operationId,p);if(p.event!=="stop"){if(p.event==="initialized")return n({type:p.event,finalizedBlockHashes:"finalizedBlockHash"in p?[p.finalizedBlockHash]:p.finalizedBlockHashes,finalizedBlockRuntime:p.finalizedBlockRuntime});const{event:v,...m}=p;return n({type:v,...m})}r(new Ir),f(!1)},u=p=>{r(p),f(!(p instanceof Ct))},d=(p,v)=>{const m=v(p,{next:c,error:u});f=(b=!0)=>{a=null,f=Me,m(),b&&e(ae.unfollow,[p]),o.errorAll(new _t),s.forEach(g=>{g()}),s.clear()},a=p,i.res(p)},h=p=>{p instanceof Ct?f(!1):r(p),a=null,i.res(p)};let f=e(ae.follow,[t],{onSuccess:d,onError:h});const l=(p,v,m)=>{const b=()=>{m==null||m.onError(new _t)};if(a===null)return b(),Me;const g=k=>{if(!m)return e(p,[k,...v]);s.add(b);const D=(j,ue)=>a===null?(ue.error(new _t),Me):(o.subscribe(j,ue),()=>{o.unsubscribe(j)}),q=e(p,[k,...v],{onSuccess:j=>{s.delete(b),m.onSuccess(j,D)},onError:j=>{s.delete(b),m.onError(j)}});return()=>{s.delete(b),q()}};if(typeof a=="string")return g(a);let E=Me;return a.then(k=>{if(k instanceof Error)return b();a&&(E=g(k))}),()=>{E()}};return{unfollow(){f(),a=null},body:hi(l),call:pi(l),header:vi(l),storage:mi(l),storageSubscription:Cr(l),unpin:bi(l),_request:l}}}var Jn=class extends Error{constructor(e){super(e.message),Vn(this,"code"),Vn(this,"data"),this.code=e.code,this.data=e.data,this.name="RpcError"}},gi=1,ki=e=>{let t=gi++;const n=new Map,r=Ar();let o=null;const s=(d,h,f)=>{o.send(JSON.stringify({jsonrpc:"2.0",id:d,method:h,params:f}))};function i(d){try{let h,f,l,p,v;if({id:h,result:f,error:l,params:p}=JSON.parse(d),h){const g=n.get(h);return g?(n.delete(h),l?g.onError(new Jn(l)):g.onSuccess(f,(E,k)=>{const D=E;return r.subscribe(D,k),()=>{r.unsubscribe(D)}})):void 0}if({subscription:v,result:f,error:l}=p,!v||!l&&!Object.hasOwn(p,"result"))throw 0;const b=v;l?r.error(b,new Jn(l)):r.next(b,f)}catch(h){console.warn("Error parsing incomming message: "+d),console.error(h)}}o=e(i);const a=()=>{o==null||o.disconnect(),o=null,r.errorAll(new Ct),n.forEach(d=>d.onError(new Ct)),n.clear()};let c=1;return{request:(d,h,f)=>{if(!o)throw new Error("Not connected");const l=`${t}-${c++}`;return f&&n.set(l,f),s(l,d,h),()=>{n.delete(l)}},disconnect:a}},Ei=e=>{const t=Mt((r,o,s,i)=>e(s,i,{onSuccess:r,onError:o}));let n=null;return async()=>n||(n=Promise.all([t(dt.chainName,[]),t(dt.genesisHash,[]),t(dt.properties,[])]).then(([r,o,s])=>({name:r,genesisHash:o,properties:s})))},Si=(e,t)=>n=>{let r={},o=null;return(s,...i)=>{if(o)return o(s,...i);let a=!0,c=()=>{a=!1};return e.then(u=>{if(o=(h,...f)=>{var p;const l=r[h]??h;return u.has(l)?t(l,...f):((p=f[1])==null||p.onError(new Error(`Unsupported method ${l}`)),Me)},u.has(s))return;const d=s.split("_");if(d[1]==="v1"){if(d[1]="unstable",u.has(d.join("_")))Object.values(n).forEach(h=>{r[h]=h.replace("_v1_","_unstable_")});else if(d[0]==="transaction"){let h,f;const l=["transactionWatch","transaction"].find(p=>(f=["v1","unstable"].find(v=>u.has(h=`${p}_${v}_unwatch`)),!!f));l&&(r[n.broadcast]=`${l}_${f}_submitAndWatch`,r[n.stop]=h)}}}).then(()=>{a&&(c=o(s,...i))}),()=>{c()}}},Or=e=>{const t=ki(e),n=Mt((s,i,a,c)=>t.request(a,c,{onSuccess:s,onError:i})),r=n("rpc_methods",[]).then(s=>new Set(Array.isArray(s)?s:s.methods),()=>new Set),o=Si(r,t.request);return{chainHead:wi(o(ae)),transaction:di(o(Bt)),getChainSpecData:Ei(o(dt)),destroy:()=>{t.disconnect()},request:n,_request:t.request}},ln=function(e,t){return ln=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},ln(e,t)};function Ae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");ln(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function xi(e,t,n,r){function o(s){return s instanceof n?s:new n(function(i){i(s)})}return new(n||(n=Promise))(function(s,i){function a(d){try{u(r.next(d))}catch(h){i(h)}}function c(d){try{u(r.throw(d))}catch(h){i(h)}}function u(d){d.done?s(d.value):o(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})}function Lr(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,o,s,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(u){return function(d){return c([u,d])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(n=0)),n;)try{if(r=1,o&&(s=u[0]&2?o.return:u[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,u[1])).done)return s;switch(o=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,o=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(d){u=[6,d],o=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Ze(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function pt(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,s=[],i;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(a){i={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return s}function vt(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,s;r<o;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}function Xe(e){return this instanceof Xe?(this.v=e,this):new Xe(e)}function _i(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,s=[];return o={},a("next"),a("throw"),a("return",i),o[Symbol.asyncIterator]=function(){return this},o;function i(l){return function(p){return Promise.resolve(p).then(l,h)}}function a(l,p){r[l]&&(o[l]=function(v){return new Promise(function(m,b){s.push([l,v,m,b])>1||c(l,v)})},p&&(o[l]=p(o[l])))}function c(l,p){try{u(r[l](p))}catch(v){f(s[0][3],v)}}function u(l){l.value instanceof Xe?Promise.resolve(l.value.v).then(d,h):f(s[0][2],l)}function d(l){c("next",l)}function h(l){c("throw",l)}function f(l,p){l(p),s.shift(),s.length&&c(s[0][0],s[0][1])}}function Ai(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Ze=="function"?Ze(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(i){return new Promise(function(a,c){i=e[s](i),o(a,c,i.done,i.value)})}}function o(s,i,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},i)}}function W(e){return typeof e=="function"}function Pr(e){var t=function(r){Error.call(r),r.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Gt=Pr(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,o){return o+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function Ot(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var nt=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,o,s;if(!this.closed){this.closed=!0;var i=this._parentage;if(i)if(this._parentage=null,Array.isArray(i))try{for(var a=Ze(i),c=a.next();!c.done;c=a.next()){var u=c.value;u.remove(this)}}catch(v){t={error:v}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}else i.remove(this);var d=this.initialTeardown;if(W(d))try{d()}catch(v){s=v instanceof Gt?v.errors:[v]}var h=this._finalizers;if(h){this._finalizers=null;try{for(var f=Ze(h),l=f.next();!l.done;l=f.next()){var p=l.value;try{Gn(p)}catch(v){s=s??[],v instanceof Gt?s=vt(vt([],pt(s)),pt(v.errors)):s.push(v)}}}catch(v){r={error:v}}finally{try{l&&!l.done&&(o=f.return)&&o.call(f)}finally{if(r)throw r.error}}}if(s)throw new Gt(s)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)Gn(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&Ot(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&Ot(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),Rr=nt.EMPTY;function Tr(e){return e instanceof nt||e&&"closed"in e&&W(e.remove)&&W(e.add)&&W(e.unsubscribe)}function Gn(e){W(e)?e():e.unsubscribe()}var Wr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ur={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,vt([e,t],pt(n)))},clearTimeout:function(e){var t=Ur.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function Mr(e){Ur.setTimeout(function(){throw e})}function mt(){}function At(e){e()}var yn=function(e){Ae(t,e);function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,Tr(n)&&n.add(r)):r.destination=Ci,r}return t.create=function(n,r,o){return new bt(n,r,o)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(nt),Ii=Function.prototype.bind;function Yt(e,t){return Ii.call(e,t)}var Di=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){St(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){St(r)}else St(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){St(n)}},e}(),bt=function(e){Ae(t,e);function t(n,r,o){var s=e.call(this)||this,i;if(W(n)||!n)i={next:n??void 0,error:r??void 0,complete:o??void 0};else{var a;s&&Wr.useDeprecatedNextContext?(a=Object.create(n),a.unsubscribe=function(){return s.unsubscribe()},i={next:n.next&&Yt(n.next,a),error:n.error&&Yt(n.error,a),complete:n.complete&&Yt(n.complete,a)}):i=n}return s.destination=new Di(i),s}return t}(yn);function St(e){Mr(e)}function Bi(e){throw e}var Ci={closed:!0,next:mt,error:Bi,complete:mt},wn=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function gn(e){return e}function Oi(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Kr(e)}function Kr(e){return e.length===0?gn:e.length===1?e[0]:function(n){return e.reduce(function(r,o){return o(r)},n)}}var C=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var o=this,s=Pi(t)?t:new bt(t,n,r);return At(function(){var i=o,a=i.operator,c=i.source;s.add(a?a.call(s,c):c?o._subscribe(s):o._trySubscribe(s))}),s},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return n=Yn(n),new n(function(o,s){var i=new bt({next:function(a){try{t(a)}catch(c){s(c),i.unsubscribe()}},error:s,complete:o});r.subscribe(i)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[wn]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Kr(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=Yn(t),new t(function(r,o){var s;n.subscribe(function(i){return s=i},function(i){return o(i)},function(){return r(s)})})},e.create=function(t){return new e(t)},e}();function Yn(e){var t;return(t=e??Wr.Promise)!==null&&t!==void 0?t:Promise}function Li(e){return e&&W(e.next)&&W(e.error)&&W(e.complete)}function Pi(e){return e&&e instanceof yn||Li(e)&&Tr(e)}function Ri(e){return W(e==null?void 0:e.lift)}function re(e){return function(t){if(Ri(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Z(e,t,n,r,o){return new Ti(e,t,n,r,o)}var Ti=function(e){Ae(t,e);function t(n,r,o,s,i,a){var c=e.call(this,n)||this;return c.onFinalize=i,c.shouldUnsubscribe=a,c._next=r?function(u){try{r(u)}catch(d){n.error(d)}}:e.prototype._next,c._error=s?function(u){try{s(u)}catch(d){n.error(d)}finally{this.unsubscribe()}}:e.prototype._error,c._complete=o?function(){try{o()}catch(u){n.error(u)}finally{this.unsubscribe()}}:e.prototype._complete,c}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(yn),Wi=Pr(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),$t=function(e){Ae(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var r=new Xn(this,this);return r.operator=n,r},t.prototype._throwIfClosed=function(){if(this.closed)throw new Wi},t.prototype.next=function(n){var r=this;At(function(){var o,s;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var i=Ze(r.currentObservers),a=i.next();!a.done;a=i.next()){var c=a.value;c.next(n)}}catch(u){o={error:u}}finally{try{a&&!a.done&&(s=i.return)&&s.call(i)}finally{if(o)throw o.error}}}})},t.prototype.error=function(n){var r=this;At(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var o=r.observers;o.length;)o.shift().error(n)}})},t.prototype.complete=function(){var n=this;At(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var r=this,o=this,s=o.hasError,i=o.isStopped,a=o.observers;return s||i?Rr:(this.currentObservers=null,a.push(n),new nt(function(){r.currentObservers=null,Ot(a,n)}))},t.prototype._checkFinalizedStatuses=function(n){var r=this,o=r.hasError,s=r.thrownError,i=r.isStopped;o?n.error(s):i&&n.complete()},t.prototype.asObservable=function(){var n=new C;return n.source=this,n},t.create=function(n,r){return new Xn(n,r)},t}(C),Xn=function(e){Ae(t,e);function t(n,r){var o=e.call(this)||this;return o.destination=n,o.source=r,o}return t.prototype.next=function(n){var r,o;(o=(r=this.destination)===null||r===void 0?void 0:r.next)===null||o===void 0||o.call(r,n)},t.prototype.error=function(n){var r,o;(o=(r=this.destination)===null||r===void 0?void 0:r.error)===null||o===void 0||o.call(r,n)},t.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},t.prototype._subscribe=function(n){var r,o;return(o=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&o!==void 0?o:Rr},t}($t),kn={now:function(){return(kn.delegate||Date).now()},delegate:void 0},En=function(e){Ae(t,e);function t(n,r,o){n===void 0&&(n=1/0),r===void 0&&(r=1/0),o===void 0&&(o=kn);var s=e.call(this)||this;return s._bufferSize=n,s._windowTime=r,s._timestampProvider=o,s._buffer=[],s._infiniteTimeWindow=!0,s._infiniteTimeWindow=r===1/0,s._bufferSize=Math.max(1,n),s._windowTime=Math.max(1,r),s}return t.prototype.next=function(n){var r=this,o=r.isStopped,s=r._buffer,i=r._infiniteTimeWindow,a=r._timestampProvider,c=r._windowTime;o||(s.push(n),!i&&s.push(a.now()+c)),this._trimBuffer(),e.prototype.next.call(this,n)},t.prototype._subscribe=function(n){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(n),o=this,s=o._infiniteTimeWindow,i=o._buffer,a=i.slice(),c=0;c<a.length&&!n.closed;c+=s?1:2)n.next(a[c]);return this._checkFinalizedStatuses(n),r},t.prototype._trimBuffer=function(){var n=this,r=n._bufferSize,o=n._timestampProvider,s=n._buffer,i=n._infiniteTimeWindow,a=(i?1:2)*r;if(r<1/0&&a<s.length&&s.splice(0,s.length-a),!i){for(var c=o.now(),u=0,d=1;d<s.length&&s[d]<=c;d+=2)u=d;u&&s.splice(0,u+1)}},t}($t),Ui=function(e){Ae(t,e);function t(n,r){return e.call(this)||this}return t.prototype.schedule=function(n,r){return this},t}(nt),fn={setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setInterval.apply(void 0,vt([e,t],pt(n)))},clearInterval:function(e){var t=fn.delegate;return((t==null?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},Mi=function(e){Ae(t,e);function t(n,r){var o=e.call(this,n,r)||this;return o.scheduler=n,o.work=r,o.pending=!1,o}return t.prototype.schedule=function(n,r){var o;if(r===void 0&&(r=0),this.closed)return this;this.state=n;var s=this.id,i=this.scheduler;return s!=null&&(this.id=this.recycleAsyncId(i,s,r)),this.pending=!0,this.delay=r,this.id=(o=this.id)!==null&&o!==void 0?o:this.requestAsyncId(i,this.id,r),this},t.prototype.requestAsyncId=function(n,r,o){return o===void 0&&(o=0),fn.setInterval(n.flush.bind(n,this),o)},t.prototype.recycleAsyncId=function(n,r,o){if(o===void 0&&(o=0),o!=null&&this.delay===o&&this.pending===!1)return r;r!=null&&fn.clearInterval(r)},t.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var o=this._execute(n,r);if(o)return o;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(n,r){var o=!1,s;try{this.work(n)}catch(i){o=!0,s=i||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),s},t.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,o=n.scheduler,s=o.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Ot(s,this),r!=null&&(this.id=this.recycleAsyncId(o,r,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(Ui),Qn=function(){function e(t,n){n===void 0&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(t,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,t).schedule(r,n)},e.now=kn.now,e}(),Ki=function(e){Ae(t,e);function t(n,r){r===void 0&&(r=Qn.now);var o=e.call(this,n,r)||this;return o.actions=[],o._active=!1,o}return t.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var o;this._active=!0;do if(o=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,o){for(;n=r.shift();)n.unsubscribe();throw o}},t}(Qn),$i=new Ki(Mi),Hi=$i,$r=new C(function(e){return e.complete()});function zi(e){return e&&W(e.schedule)}function Hr(e){return e[e.length-1]}function zr(e){return zi(Hr(e))?e.pop():void 0}function ji(e,t){return typeof Hr(e)=="number"?e.pop():t}var jr=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function Nr(e){return W(e==null?void 0:e.then)}function Fr(e){return W(e[wn])}function qr(e){return Symbol.asyncIterator&&W(e==null?void 0:e[Symbol.asyncIterator])}function Vr(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function Ni(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Jr=Ni();function Gr(e){return W(e==null?void 0:e[Jr])}function Yr(e){return _i(this,arguments,function(){var n,r,o,s;return Lr(this,function(i){switch(i.label){case 0:n=e.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,Xe(n.read())];case 3:return r=i.sent(),o=r.value,s=r.done,s?[4,Xe(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return[4,Xe(o)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function Xr(e){return W(e==null?void 0:e.getReader)}function ce(e){if(e instanceof C)return e;if(e!=null){if(Fr(e))return Fi(e);if(jr(e))return qi(e);if(Nr(e))return Vi(e);if(qr(e))return Qr(e);if(Gr(e))return Ji(e);if(Xr(e))return Gi(e)}throw Vr(e)}function Fi(e){return new C(function(t){var n=e[wn]();if(W(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function qi(e){return new C(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function Vi(e){return new C(function(t){e.then(function(n){t.closed||(t.next(n),t.complete())},function(n){return t.error(n)}).then(null,Mr)})}function Ji(e){return new C(function(t){var n,r;try{for(var o=Ze(e),s=o.next();!s.done;s=o.next()){var i=s.value;if(t.next(i),t.closed)return}}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}t.complete()})}function Qr(e){return new C(function(t){Yi(e,t).catch(function(n){return t.error(n)})})}function Gi(e){return Qr(Yr(e))}function Yi(e,t){var n,r,o,s;return xi(this,void 0,void 0,function(){var i,a;return Lr(this,function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),n=Ai(e),c.label=1;case 1:return[4,n.next()];case 2:if(r=c.sent(),!!r.done)return[3,4];if(i=r.value,t.next(i),t.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=c.sent(),o={error:a},[3,11];case 6:return c.trys.push([6,,9,10]),r&&!r.done&&(s=n.return)?[4,s.call(n)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function Ke(e,t,n,r,o){r===void 0&&(r=0),o===void 0&&(o=!1);var s=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(s),!o)return s}function Zr(e,t){return t===void 0&&(t=0),re(function(n,r){n.subscribe(Z(r,function(o){return Ke(r,e,function(){return r.next(o)},t)},function(){return Ke(r,e,function(){return r.complete()},t)},function(o){return Ke(r,e,function(){return r.error(o)},t)}))})}function eo(e,t){return t===void 0&&(t=0),re(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}function Xi(e,t){return ce(e).pipe(eo(t),Zr(t))}function Qi(e,t){return ce(e).pipe(eo(t),Zr(t))}function Zi(e,t){return new C(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function ea(e,t){return new C(function(n){var r;return Ke(n,t,function(){r=e[Jr](),Ke(n,t,function(){var o,s,i;try{o=r.next(),s=o.value,i=o.done}catch(a){n.error(a);return}i?n.complete():n.next(s)},0,!0)}),function(){return W(r==null?void 0:r.return)&&r.return()}})}function to(e,t){if(!e)throw new Error("Iterable cannot be null");return new C(function(n){Ke(n,t,function(){var r=e[Symbol.asyncIterator]();Ke(n,t,function(){r.next().then(function(o){o.done?n.complete():n.next(o.value)})},0,!0)})})}function ta(e,t){return to(Yr(e),t)}function na(e,t){if(e!=null){if(Fr(e))return Xi(e,t);if(jr(e))return Zi(e,t);if(Nr(e))return Qi(e,t);if(qr(e))return to(e,t);if(Gr(e))return ea(e,t);if(Xr(e))return ta(e,t)}throw Vr(e)}function no(e,t){return t?na(e,t):ce(e)}function et(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=zr(e);return no(e,n)}function ro(e,t){var n=W(e)?e:function(){return e},r=function(o){return o.error(n())};return new C(r)}function ra(e){return e instanceof Date&&!isNaN(e)}function M(e,t){return re(function(n,r){var o=0;n.subscribe(Z(r,function(s){r.next(e.call(t,s,o++))}))})}function oa(e,t,n,r,o,s,i,a){var c=[],u=0,d=0,h=!1,f=function(){h&&!c.length&&!u&&t.complete()},l=function(v){return u<r?p(v):c.push(v)},p=function(v){u++;var m=!1;ce(n(v,d++)).subscribe(Z(t,function(b){t.next(b)},function(){m=!0},void 0,function(){if(m)try{u--;for(var b=function(){var g=c.shift();i||p(g)};c.length&&u<r;)b();f()}catch(g){t.error(g)}}))};return e.subscribe(Z(t,l,function(){h=!0,f()})),function(){}}function X(e,t,n){return n===void 0&&(n=1/0),W(t)?X(function(r,o){return M(function(s,i){return t(r,s,o,i)})(ce(e(r,o)))},n):(typeof t=="number"&&(n=t),re(function(r,o){return oa(r,o,e,n)}))}function oo(e){return e===void 0&&(e=1/0),X(gn,e)}function so(e){return new C(function(t){ce(e()).subscribe(t)})}function sa(e,t,n){return n===void 0&&(n=Hi),new C(function(r){var o=ra(e)?+e-n.now():e;o<0&&(o=0);var s=0;return n.schedule(function(){r.closed||(r.next(s++),r.complete())},o)})}function io(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=zr(e),r=ji(e,1/0),o=e;return o.length?o.length===1?ce(o[0]):oo(r)(no(o,n)):$r}function rt(e,t){return re(function(n,r){var o=0;n.subscribe(Z(r,function(s){return e.call(t,s,o++)&&r.next(s)}))})}function Lt(e){return re(function(t,n){var r=null,o=!1,s;r=t.subscribe(Z(n,void 0,void 0,function(i){s=ce(e(i,Lt(e)(t))),r?(r.unsubscribe(),r=null,s.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,s.subscribe(n))})}function ia(e,t,n,r,o){return function(s,i){var a=n,c=t,u=0;s.subscribe(Z(i,function(d){var h=u++;c=a?e(c,d,h):(a=!0,d),i.next(c)},o))}}function ao(e,t){return W(t)?X(e,t,1):X(e,1)}function $e(e){return e<=0?function(){return $r}:re(function(t,n){var r=0;t.subscribe(Z(n,function(o){++r<=e&&(n.next(o),e<=r&&n.complete())}))})}function aa(e,t){return re(function(n,r){var o=new Set;n.subscribe(Z(r,function(s){var i=e?e(s):s;o.has(i)||(o.add(i),r.next(s))})),t&&ce(t).subscribe(Z(r,function(){return o.clear()},mt))})}function Je(e,t){return t===void 0&&(t=gn),e=e??ca,re(function(n,r){var o,s=!0;n.subscribe(Z(r,function(i){var a=t(i);(s||!e(o,a))&&(s=!1,o=a,r.next(i))}))})}function ca(e,t){return e===t}function co(e,t){return re(ia(e,t,arguments.length>=2,!0))}function Ht(e){e===void 0&&(e={});var t=e.connector,n=t===void 0?function(){return new $t}:t,r=e.resetOnError,o=r===void 0?!0:r,s=e.resetOnComplete,i=s===void 0?!0:s,a=e.resetOnRefCountZero,c=a===void 0?!0:a;return function(u){var d,h,f,l=0,p=!1,v=!1,m=function(){h==null||h.unsubscribe(),h=void 0},b=function(){m(),d=f=void 0,p=v=!1},g=function(){var E=d;b(),E==null||E.unsubscribe()};return re(function(E,k){l++,!v&&!p&&m();var D=f=f??n();k.add(function(){l--,l===0&&!v&&!p&&(h=Xt(g,c))}),D.subscribe(k),!d&&l>0&&(d=new bt({next:function(q){return D.next(q)},error:function(q){v=!0,m(),h=Xt(b,o,q),D.error(q)},complete:function(){p=!0,m(),h=Xt(b,i),D.complete()}}),ce(E).subscribe(d))})(u)}}function Xt(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(t===!0){e();return}if(t!==!1){var o=new bt({next:function(){o.unsubscribe(),e()}});return ce(t.apply(void 0,vt([],pt(n)))).subscribe(o)}}function ua(e,t,n){var r,o=!1;return r=e,Ht({connector:function(){return new En(r,t,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function Sn(e,t){return re(function(n,r){var o=null,s=0,i=!1,a=function(){return i&&!o&&r.complete()};n.subscribe(Z(r,function(c){o==null||o.unsubscribe();var u=0,d=s++;ce(e(c,d)).subscribe(o=Z(r,function(h){return r.next(t?t(c,h,d,u++):h)},function(){o=null,a()}))},function(){i=!0,a()}))})}function la(e){return re(function(t,n){ce(e).subscribe(Z(n,function(){return n.complete()},mt)),!n.closed&&t.subscribe(n)})}function Zn(e,t){return t===void 0&&(t=!1),re(function(n,r){var o=0;n.subscribe(Z(r,function(s){var i=e(s,o++);(i||t)&&r.next(s),!i&&r.complete()}))})}var fa=Object.defineProperty,da=(e,t,n)=>t in e?fa(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,er=(e,t,n)=>(da(e,typeof t!="symbol"?t+"":t,n),n),Qt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,b:11,c:12,d:13,e:14,f:15,A:10,B:11,C:12,D:13,E:14,F:15};function ha(e){const t=e.length%2,n=(e[1]==="x"?2:0)+t,r=(e.length-n)/2+t,o=new Uint8Array(r);t&&(o[0]=0|Qt[e[2]]);for(let s=0;s<r;){const i=n+s*2,a=Qt[e[i]],c=Qt[e[i+1]];o[t+s++]=a<<4|c}return o}var tr=class extends Uint8Array{constructor(e){super(e),er(this,"i",0),er(this,"v"),this.v=new DataView(e)}},de=e=>t=>e(t instanceof tr?t:new tr(t instanceof Uint8Array?t.buffer:typeof t=="string"?ha(t).buffer:t)),be=e=>{const t=e.length;let n=0;for(let o=0;o<t;o++)n+=e[o].byteLength;const r=new Uint8Array(n);for(let o=0,s=0;o<t;o++){const i=e[o];r.set(i,s),s+=i.byteLength}return r};function Pt(e,t){const n=Object.keys(e),r=n.length,o={};for(let s=0;s<r;s++){const i=n[s];o[i]=t(e[i],i)}return o}var xn=de,L=(e,t)=>{const n=[e,t];return n.enc=e,n.dec=t,n},_n=(e,t)=>n=>e(t(n)),An=(e,t)=>n=>t(e(n)),ot=([e,t],n,r)=>L(_n(e,n),An(t,r));function pa(e,t){return de(n=>{const r=n.v[t](n.i,!0);return n.i+=e,r})}function va(e,t){return n=>{const r=new Uint8Array(e);return new DataView(r.buffer)[t](0,n,!0),r}}function Le(e,t,n){return L(va(e,n),pa(e,t))}var F=Le(1,"getUint8","setUint8"),yt=Le(2,"getUint16","setUint16"),xe=Le(4,"getUint32","setUint32"),zt=Le(8,"getBigUint64","setBigUint64"),ma=Le(1,"getInt8","setInt8"),ba=Le(2,"getInt16","setInt16"),ya=Le(4,"getInt32","setInt32"),wa=Le(8,"getBigInt64","setBigInt64"),uo=e=>{const t=new Uint8Array(16),n=new DataView(t.buffer);return n.setBigInt64(0,e,!0),n.setBigInt64(8,e>>64n,!0),t},lo=e=>de(t=>{const{v:n,i:r}=t,o=n.getBigUint64(r,!0),s=n[e](r+8,!0);return t.i+=16,s<<64n|o}),ga=L(uo,lo("getBigUint64")),ka=L(uo,lo("getBigInt64")),fo=e=>{const t=new Uint8Array(32),n=new DataView(t.buffer);return n.setBigInt64(0,e,!0),n.setBigInt64(8,e>>64n,!0),n.setBigInt64(16,e>>128n,!0),n.setBigInt64(24,e>>192n,!0),t},ho=e=>de(t=>{let n=t.v.getBigUint64(t.i,!0);return t.i+=8,n|=t.v.getBigUint64(t.i,!0)<<64n,t.i+=8,n|=t.v.getBigUint64(t.i,!0)<<128n,t.i+=8,n|=t.v[e](t.i,!0)<<192n,t.i+=8,n}),Ea=L(fo,ho("getBigUint64")),Sa=L(fo,ho("getBigInt64")),In=ot(F,e=>e?1:0,Boolean),xa=[F[1],yt[1],xe[1]],_a=de(e=>{const t=e[e.i],n=t&3;if(n<3)return xa[n](e)>>>2;const r=(t>>>2)+4;e.i++;let o=0n;const s=r/8|0;let i=0n;for(let c=0;c<s;c++)o=zt[1](e)<<i|o,i+=64n;let a=r%8;return a>3&&(o=BigInt(xe[1](e))<<i|o,i+=32n,a-=4),a>1&&(o=BigInt(yt[1](e))<<i|o,i+=16n,a-=2),a&&(o=BigInt(F[1](e))<<i|o),o}),Aa=1n<<56n,Ia=1<<24,Da=256,Ba=4294967295n,Ca=64,Oa=16384,La=1<<30,Pa=e=>{if(e<0)throw new Error(`Wrong compact input (${e})`);const t=Number(e)<<2;if(e<Ca)return F[0](t);if(e<Oa)return yt[0](t|1);if(e<La)return xe[0](t|2);let n=[new Uint8Array(1)],r=BigInt(e);for(;r>=Aa;)n.push(zt[0](r)),r>>=64n;r>=Ia&&(n.push(xe[0](Number(r&Ba))),r>>=32n);let o=Number(r);o>=Da&&(n.push(yt[0](o)),o>>=16),o&&n.push(F[0](o));const s=be(n);return s[0]=s.length-5<<2|3,s},pe=L(Pa,_a),Ra=new TextEncoder,Ta=e=>{const t=Ra.encode(e);return be([pe.enc(t.length),t])},Wa=new TextDecoder,Ua=de(e=>{let t=pe.dec(e);const n=new DataView(e.buffer,e.i,t);return e.i+=t,Wa.decode(n)}),Q=L(Ta,Ua),Ma=()=>{},Ka=new Uint8Array(0),B=L(()=>Ka,Ma),po=e=>e===void 0?t=>be([pe.enc(t.length),t]):t=>t.length===e?t:t.slice(0,e),vo=e=>de(t=>{const n=e===void 0?pe.dec(t):e!==1/0?e:t.byteLength-t.i,r=new Uint8Array(t.buffer.slice(t.i,t.i+n));return t.i+=n,r}),oe=e=>L(po(e),vo(e));oe.enc=po;oe.dec=vo;var mo=(e,t)=>{const n=Object.keys(e),r=new Map((t==null?void 0:t.map((s,i)=>[n[i],s]))??n.map((s,i)=>[s,i])),o=s=>r.get(s);return({tag:s,value:i})=>be([F.enc(o(s)),e[s](i)])},bo=(e,t)=>{const n=Object.keys(e),r=new Map((t==null?void 0:t.map((o,s)=>[o,n[s]]))??n.map((o,s)=>[s,o]));return de(o=>{const s=F.dec(o),i=r.get(s),a=e[i];return{tag:i,value:a(o)}})},we=(e,...t)=>L(mo(Pt(e,([n])=>n),...t),bo(Pt(e,([,n])=>n),...t));we.enc=mo;we.dec=bo;var yo=e=>de(t=>{const n=F.dec(t);if(n!==0)return e===In[1]?n===1:e(t)}),wo=e=>t=>{const n=new Uint8Array(1);return t===void 0?(n[0]=0,n):(n[0]=1,e===In[0]?(n[0]=t?1:2,n):be([n,e(t)]))},he=e=>L(wo(e[0]),yo(e[1]));he.enc=wo;he.dec=yo;var go=(e,t)=>de(n=>{const r=F[1](n)===0,s=(r?e:t)(n);return{success:r,value:s}}),ko=(e,t)=>({success:n,value:r})=>be([F[0](n?0:1),(n?e:t)(r)]),jt=(e,t)=>L(ko(e[0],t[0]),go(e[1],t[1]));jt.dec=go;jt.enc=ko;var Eo=(...e)=>de(t=>e.map(n=>n(t))),So=(...e)=>t=>be(e.map((n,r)=>n(t[r]))),ye=(...e)=>L(So(...e.map(([t])=>t)),Eo(...e.map(([,t])=>t)));ye.enc=So;ye.dec=Eo;var xo=e=>{const t=Object.keys(e);return _n(ye.enc(...Object.values(e)),n=>t.map(r=>n[r]))},_o=e=>{const t=Object.keys(e);return An(ye.dec(...Object.values(e)),n=>Object.fromEntries(n.map((r,o)=>[t[o],r])))},_=e=>L(xo(Pt(e,t=>t[0])),_o(Pt(e,t=>t[1])));_.enc=xo;_.dec=_o;var Ao=(e,t)=>t>=0?n=>be(n.map(e)):n=>be([pe.enc(n.length),be(n.map(e))]),Io=(e,t)=>de(n=>{const r=t>=0?t:pe.dec(n),o=new Array(r);for(let s=0;s<r;s++)o[s]=e(n);return o}),O=(e,t)=>L(Ao(e[0],t),Io(e[1],t));O.enc=Ao;O.dec=Io;/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function $a(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function Ha(...e){const t=s=>s,n=(s,i)=>a=>s(i(a)),r=e.map(s=>s.encode).reduceRight(n,t),o=e.map(s=>s.decode).reduce(n,t);return{encode:r,decode:o}}function za(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return t.map(n=>{if(n<0||n>=e.length)throw new Error(`Digit index outside alphabet: ${n} (alphabet: ${e.length})`);return e[n]})},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("alphabet.decode input should be array of strings");return t.map(n=>{if(typeof n!="string")throw new Error(`alphabet.decode: not string element=${n}`);const r=e.indexOf(n);if(r===-1)throw new Error(`Unknown letter: "${n}". Allowed: ${e}`);return r})}}}function ja(e=""){if(typeof e!="string")throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("join.encode input should be array of strings");for(let n of t)if(typeof n!="string")throw new Error(`join.encode: non-string input=${n}`);return t.join(e)},decode:t=>{if(typeof t!="string")throw new Error("join.decode input should be string");return t.split(e)}}}function nr(e,t,n){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let r=0;const o=[],s=Array.from(e);for(s.forEach(i=>{if(i<0||i>=t)throw new Error(`Wrong integer: ${i}`)});;){let i=0,a=!0;for(let c=r;c<s.length;c++){const u=s[c],d=t*i+u;if(!Number.isSafeInteger(d)||t*i/t!==i||d-u!==t*i)throw new Error("convertRadix: carry overflow");i=d%n;const h=Math.floor(d/n);if(s[c]=h,!Number.isSafeInteger(h)||h*n+i!==d)throw new Error("convertRadix: carry overflow");if(a)h?a=!1:r=c;else continue}if(o.push(i),a)break}for(let i=0;i<e.length-1&&e[i]===0;i++)o.push(0);return o.reverse()}function Na(e){return{encode:t=>{if(!$a(t))throw new Error("radix.encode input should be Uint8Array");return nr(Array.from(t),2**8,e)},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("radix.decode input should be array of numbers");return Uint8Array.from(nr(t,e,2**8))}}}const Fa=e=>Ha(Na(58),za(e),ja("")),Do=Fa("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");function He(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function qa(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function Nt(e,...t){if(!qa(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function wt(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Dn(e,t){Nt(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Va=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength),ze=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),Rt=(e,t)=>e<<32-t|e>>>t,Y=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,Bo=e=>e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255,ke=Y?e=>e:e=>Bo(e);function J(e){for(let t=0;t<e.length;t++)e[t]=Bo(e[t])}function Ja(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Ee(e){return typeof e=="string"&&(e=Ja(e)),Nt(e),e}class Co{clone(){return this._cloneInto()}}function Ga(e){const t=r=>e().update(Ee(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Ya(e){const t=(r,o)=>e(o).update(Ee(r)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=r=>e(r),t}function Xa(e){const t=(r,o)=>e(o).update(Ee(r)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=r=>e(r),t}const Qa=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3]);class Oo extends Co{constructor(t,n,r={},o,s,i){if(super(),this.blockLen=t,this.outputLen=n,this.length=0,this.pos=0,this.finished=!1,this.destroyed=!1,He(t),He(n),He(o),n<0||n>o)throw new Error("outputLen bigger than keyLen");if(r.key!==void 0&&(r.key.length<1||r.key.length>o))throw new Error(`key must be up 1..${o} byte long or undefined`);if(r.salt!==void 0&&r.salt.length!==s)throw new Error(`salt must be ${s} byte long or undefined`);if(r.personalization!==void 0&&r.personalization.length!==i)throw new Error(`personalization must be ${i} byte long or undefined`);this.buffer32=ze(this.buffer=new Uint8Array(t))}update(t){wt(this);const{blockLen:n,buffer:r,buffer32:o}=this;t=Ee(t);const s=t.length,i=t.byteOffset,a=t.buffer;for(let c=0;c<s;){this.pos===n&&(Y||J(o),this.compress(o,0,!1),Y||J(o),this.pos=0);const u=Math.min(n-this.pos,s-c),d=i+c;if(u===n&&!(d%4)&&c+u<s){const h=new Uint32Array(a,d,Math.floor((s-c)/4));Y||J(h);for(let f=0;c+n<s;f+=o.length,c+=n)this.length+=n,this.compress(h,f,!1);Y||J(h);continue}r.set(t.subarray(c,c+u),this.pos),this.pos+=u,this.length+=u,c+=u}return this}digestInto(t){wt(this),Dn(t,this);const{pos:n,buffer32:r}=this;this.finished=!0,this.buffer.subarray(n).fill(0),Y||J(r),this.compress(r,0,!0),Y||J(r);const o=ze(t);this.get().forEach((s,i)=>o[i]=ke(s))}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){const{buffer:n,length:r,finished:o,destroyed:s,outputLen:i,pos:a}=this;return t||(t=new this.constructor({dkLen:i})),t.set(...this.get()),t.length=r,t.finished=o,t.destroyed=s,t.outputLen=i,t.buffer.set(n),t.pos=a,t}}const xt=BigInt(2**32-1),dn=BigInt(32);function Tt(e,t=!1){return t?{h:Number(e&xt),l:Number(e>>dn&xt)}:{h:Number(e>>dn&xt)|0,l:Number(e&xt)|0}}function Lo(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let o=0;o<e.length;o++){const{h:s,l:i}=Tt(e[o],t);[n[o],r[o]]=[s,i]}return[n,r]}const Za=(e,t)=>BigInt(e>>>0)<<dn|BigInt(t>>>0),ec=(e,t,n)=>e>>>n,tc=(e,t,n)=>e<<32-n|t>>>n,nc=(e,t,n)=>e>>>n|t<<32-n,rc=(e,t,n)=>e<<32-n|t>>>n,oc=(e,t,n)=>e<<64-n|t>>>n-32,sc=(e,t,n)=>e>>>n-32|t<<64-n,ic=(e,t)=>t,ac=(e,t)=>e,Po=(e,t,n)=>e<<n|t>>>32-n,Ro=(e,t,n)=>t<<n|e>>>32-n,To=(e,t,n)=>t<<n-32|e>>>64-n,Wo=(e,t,n)=>e<<n-32|t>>>64-n;function cc(e,t,n,r){const o=(t>>>0)+(r>>>0);return{h:e+n+(o/2**32|0)|0,l:o|0}}const uc=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),lc=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,fc=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),dc=(e,t,n,r,o)=>t+n+r+o+(e/2**32|0)|0,hc=(e,t,n,r,o)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(o>>>0),pc=(e,t,n,r,o,s)=>t+n+r+o+s+(e/2**32|0)|0,G={fromBig:Tt,split:Lo,toBig:Za,shrSH:ec,shrSL:tc,rotrSH:nc,rotrSL:rc,rotrBH:oc,rotrBL:sc,rotr32H:ic,rotr32L:ac,rotlSH:Po,rotlSL:Ro,rotlBH:To,rotlBL:Wo,add:cc,add3L:uc,add3H:lc,add4L:fc,add4H:dc,add5H:pc,add5L:hc},K=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),y=new Uint32Array(32);function Ie(e,t,n,r,o,s){const i=o[s],a=o[s+1];let c=y[2*e],u=y[2*e+1],d=y[2*t],h=y[2*t+1],f=y[2*n],l=y[2*n+1],p=y[2*r],v=y[2*r+1],m=G.add3L(c,d,i);u=G.add3H(m,u,h,a),c=m|0,{Dh:v,Dl:p}={Dh:v^u,Dl:p^c},{Dh:v,Dl:p}={Dh:G.rotr32H(v,p),Dl:G.rotr32L(v,p)},{h:l,l:f}=G.add(l,f,v,p),{Bh:h,Bl:d}={Bh:h^l,Bl:d^f},{Bh:h,Bl:d}={Bh:G.rotrSH(h,d,24),Bl:G.rotrSL(h,d,24)},y[2*e]=c,y[2*e+1]=u,y[2*t]=d,y[2*t+1]=h,y[2*n]=f,y[2*n+1]=l,y[2*r]=p,y[2*r+1]=v}function De(e,t,n,r,o,s){const i=o[s],a=o[s+1];let c=y[2*e],u=y[2*e+1],d=y[2*t],h=y[2*t+1],f=y[2*n],l=y[2*n+1],p=y[2*r],v=y[2*r+1],m=G.add3L(c,d,i);u=G.add3H(m,u,h,a),c=m|0,{Dh:v,Dl:p}={Dh:v^u,Dl:p^c},{Dh:v,Dl:p}={Dh:G.rotrSH(v,p,16),Dl:G.rotrSL(v,p,16)},{h:l,l:f}=G.add(l,f,v,p),{Bh:h,Bl:d}={Bh:h^l,Bl:d^f},{Bh:h,Bl:d}={Bh:G.rotrBH(h,d,63),Bl:G.rotrBL(h,d,63)},y[2*e]=c,y[2*e+1]=u,y[2*t]=d,y[2*t+1]=h,y[2*n]=f,y[2*n+1]=l,y[2*r]=p,y[2*r+1]=v}class vc extends Oo{constructor(t={}){super(128,t.dkLen===void 0?64:t.dkLen,t,64,16,16),this.v0l=K[0]|0,this.v0h=K[1]|0,this.v1l=K[2]|0,this.v1h=K[3]|0,this.v2l=K[4]|0,this.v2h=K[5]|0,this.v3l=K[6]|0,this.v3h=K[7]|0,this.v4l=K[8]|0,this.v4h=K[9]|0,this.v5l=K[10]|0,this.v5h=K[11]|0,this.v6l=K[12]|0,this.v6h=K[13]|0,this.v7l=K[14]|0,this.v7h=K[15]|0;const n=t.key?t.key.length:0;if(this.v0l^=this.outputLen|n<<8|65536|1<<24,t.salt){const r=ze(Ee(t.salt));this.v4l^=ke(r[0]),this.v4h^=ke(r[1]),this.v5l^=ke(r[2]),this.v5h^=ke(r[3])}if(t.personalization){const r=ze(Ee(t.personalization));this.v6l^=ke(r[0]),this.v6h^=ke(r[1]),this.v7l^=ke(r[2]),this.v7h^=ke(r[3])}if(t.key){const r=new Uint8Array(this.blockLen);r.set(Ee(t.key)),this.update(r)}}get(){let{v0l:t,v0h:n,v1l:r,v1h:o,v2l:s,v2h:i,v3l:a,v3h:c,v4l:u,v4h:d,v5l:h,v5h:f,v6l:l,v6h:p,v7l:v,v7h:m}=this;return[t,n,r,o,s,i,a,c,u,d,h,f,l,p,v,m]}set(t,n,r,o,s,i,a,c,u,d,h,f,l,p,v,m){this.v0l=t|0,this.v0h=n|0,this.v1l=r|0,this.v1h=o|0,this.v2l=s|0,this.v2h=i|0,this.v3l=a|0,this.v3h=c|0,this.v4l=u|0,this.v4h=d|0,this.v5l=h|0,this.v5h=f|0,this.v6l=l|0,this.v6h=p|0,this.v7l=v|0,this.v7h=m|0}compress(t,n,r){this.get().forEach((c,u)=>y[u]=c),y.set(K,16);let{h:o,l:s}=G.fromBig(BigInt(this.length));y[24]=K[8]^s,y[25]=K[9]^o,r&&(y[28]=~y[28],y[29]=~y[29]);let i=0;const a=Qa;for(let c=0;c<12;c++)Ie(0,4,8,12,t,n+2*a[i++]),De(0,4,8,12,t,n+2*a[i++]),Ie(1,5,9,13,t,n+2*a[i++]),De(1,5,9,13,t,n+2*a[i++]),Ie(2,6,10,14,t,n+2*a[i++]),De(2,6,10,14,t,n+2*a[i++]),Ie(3,7,11,15,t,n+2*a[i++]),De(3,7,11,15,t,n+2*a[i++]),Ie(0,5,10,15,t,n+2*a[i++]),De(0,5,10,15,t,n+2*a[i++]),Ie(1,6,11,12,t,n+2*a[i++]),De(1,6,11,12,t,n+2*a[i++]),Ie(2,7,8,13,t,n+2*a[i++]),De(2,7,8,13,t,n+2*a[i++]),Ie(3,4,9,14,t,n+2*a[i++]),De(3,4,9,14,t,n+2*a[i++]);this.v0l^=y[0]^y[16],this.v0h^=y[1]^y[17],this.v1l^=y[2]^y[18],this.v1h^=y[3]^y[19],this.v2l^=y[4]^y[20],this.v2h^=y[5]^y[21],this.v3l^=y[6]^y[22],this.v3h^=y[7]^y[23],this.v4l^=y[8]^y[24],this.v4h^=y[9]^y[25],this.v5l^=y[10]^y[26],this.v5h^=y[11]^y[27],this.v6l^=y[12]^y[28],this.v6h^=y[13]^y[29],this.v7l^=y[14]^y[30],this.v7h^=y[15]^y[31],y.fill(0)}destroy(){this.destroyed=!0,this.buffer32.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Ft=Ya(e=>new vc(e)),Uo=[],Mo=[],Ko=[],mc=BigInt(0),it=BigInt(1),bc=BigInt(2),yc=BigInt(7),wc=BigInt(256),gc=BigInt(113);for(let e=0,t=it,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],Uo.push(2*(5*r+n)),Mo.push((e+1)*(e+2)/2%64);let o=mc;for(let s=0;s<7;s++)t=(t<<it^(t>>yc)*gc)%wc,t&bc&&(o^=it<<(it<<BigInt(s))-it);Ko.push(o)}const[kc,Ec]=Lo(Ko,!0),rr=(e,t,n)=>n>32?To(e,t,n):Po(e,t,n),or=(e,t,n)=>n>32?Wo(e,t,n):Ro(e,t,n);function Sc(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let i=0;i<10;i++)n[i]=e[i]^e[i+10]^e[i+20]^e[i+30]^e[i+40];for(let i=0;i<10;i+=2){const a=(i+8)%10,c=(i+2)%10,u=n[c],d=n[c+1],h=rr(u,d,1)^n[a],f=or(u,d,1)^n[a+1];for(let l=0;l<50;l+=10)e[i+l]^=h,e[i+l+1]^=f}let o=e[2],s=e[3];for(let i=0;i<24;i++){const a=Mo[i],c=rr(o,s,a),u=or(o,s,a),d=Uo[i];o=e[d],s=e[d+1],e[d]=c,e[d+1]=u}for(let i=0;i<50;i+=10){for(let a=0;a<10;a++)n[a]=e[i+a];for(let a=0;a<10;a++)e[i+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=kc[r],e[1]^=Ec[r]}n.fill(0)}class Bn extends Co{constructor(t,n,r,o=!1,s=24){if(super(),this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=o,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,He(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=ze(this.state)}keccak(){Y||J(this.state32),Sc(this.state32,this.rounds),Y||J(this.state32),this.posOut=0,this.pos=0}update(t){wt(this);const{blockLen:n,state:r}=this;t=Ee(t);const o=t.length;for(let s=0;s<o;){const i=Math.min(n-this.pos,o-s);for(let a=0;a<i;a++)r[this.pos++]^=t[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:o}=this;t[r]^=n,n&128&&r===o-1&&this.keccak(),t[o-1]^=128,this.keccak()}writeInto(t){wt(this,!1),Nt(t),this.finish();const n=this.state,{blockLen:r}=this;for(let o=0,s=t.length;o<s;){this.posOut>=r&&this.keccak();const i=Math.min(r-this.posOut,s-o);t.set(n.subarray(this.posOut,this.posOut+i),o),this.posOut+=i,o+=i}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return He(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Dn(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:o,rounds:s,enableXOF:i}=this;return t||(t=new Bn(n,r,o,i,s)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=s,t.suffix=r,t.outputLen=o,t.enableXOF=i,t.destroyed=this.destroyed,t}}const xc=(e,t,n)=>Ga(()=>new Bn(t,e,n)),_c=xc(1,136,256/8),ge=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]);function Be(e,t,n,r,o){return e=e+t+o|0,r=Rt(r^e,16),n=n+r|0,t=Rt(t^n,12),{a:e,b:t,c:n,d:r}}function Ce(e,t,n,r,o){return e=e+t+o|0,r=Rt(r^e,8),n=n+r|0,t=Rt(t^n,7),{a:e,b:t,c:n,d:r}}function sr(e,t,n,r,o,s,i,a,c,u,d,h,f,l,p,v,m,b,g,E){let k=0;for(let D=0;D<r;D++)({a:o,b:c,c:f,d:m}=Be(o,c,f,m,n[t+e[k++]])),{a:o,b:c,c:f,d:m}=Ce(o,c,f,m,n[t+e[k++]]),{a:s,b:u,c:l,d:b}=Be(s,u,l,b,n[t+e[k++]]),{a:s,b:u,c:l,d:b}=Ce(s,u,l,b,n[t+e[k++]]),{a:i,b:d,c:p,d:g}=Be(i,d,p,g,n[t+e[k++]]),{a:i,b:d,c:p,d:g}=Ce(i,d,p,g,n[t+e[k++]]),{a,b:h,c:v,d:E}=Be(a,h,v,E,n[t+e[k++]]),{a,b:h,c:v,d:E}=Ce(a,h,v,E,n[t+e[k++]]),{a:o,b:u,c:p,d:E}=Be(o,u,p,E,n[t+e[k++]]),{a:o,b:u,c:p,d:E}=Ce(o,u,p,E,n[t+e[k++]]),{a:s,b:d,c:v,d:m}=Be(s,d,v,m,n[t+e[k++]]),{a:s,b:d,c:v,d:m}=Ce(s,d,v,m,n[t+e[k++]]),{a:i,b:h,c:f,d:b}=Be(i,h,f,b,n[t+e[k++]]),{a:i,b:h,c:f,d:b}=Ce(i,h,f,b,n[t+e[k++]]),{a,b:c,c:l,d:g}=Be(a,c,l,g,n[t+e[k++]]),{a,b:c,c:l,d:g}=Ce(a,c,l,g,n[t+e[k++]]);return{v0:o,v1:s,v2:i,v3:a,v4:c,v5:u,v6:d,v7:h,v8:f,v9:l,v10:p,v11:v,v12:m,v13:b,v14:g,v15:E}}const ir=(()=>{const e=Array.from({length:16},(r,o)=>o),t=r=>[2,6,3,10,7,0,4,13,1,11,12,5,9,14,15,8].map(o=>r[o]),n=[];for(let r=0,o=e;r<7;r++,o=t(o))n.push(...o);return Uint8Array.from(n)})();class Cn extends Oo{constructor(t={},n=0){if(super(64,t.dkLen===void 0?32:t.dkLen,{},Number.MAX_SAFE_INTEGER,0,0),this.flags=0,this.chunkPos=0,this.chunksDone=0,this.stack=[],this.posOut=0,this.bufferOut32=new Uint32Array(16),this.chunkOut=0,this.enableXOF=!0,this.outputLen=t.dkLen===void 0?32:t.dkLen,He(this.outputLen),t.key!==void 0&&t.context!==void 0)throw new Error("Blake3: only key or context can be specified at same time");if(t.key!==void 0){const r=Ee(t.key).slice();if(r.length!==32)throw new Error("Blake3: key should be 32 byte");this.IV=ze(r),Y||J(this.IV),this.flags=n|16}else if(t.context!==void 0){const r=new Cn({dkLen:32},32).update(t.context).digest();this.IV=ze(r),Y||J(this.IV),this.flags=n|64}else this.IV=ge.slice(),this.flags=n;this.state=this.IV.slice(),this.bufferOut=Va(this.bufferOut32)}get(){return[]}set(){}b2Compress(t,n,r,o=0){const{state:s,pos:i}=this,{h:a,l:c}=Tt(BigInt(t),!0),{v0:u,v1:d,v2:h,v3:f,v4:l,v5:p,v6:v,v7:m,v8:b,v9:g,v10:E,v11:k,v12:D,v13:q,v14:j,v15:ue}=sr(ir,o,r,7,s[0],s[1],s[2],s[3],s[4],s[5],s[6],s[7],ge[0],ge[1],ge[2],ge[3],a,c,i,n);s[0]=u^b,s[1]=d^g,s[2]=h^E,s[3]=f^k,s[4]=l^D,s[5]=p^q,s[6]=v^j,s[7]=m^ue}compress(t,n=0,r=!1){let o=this.flags;if(this.chunkPos||(o|=1),(this.chunkPos===15||r)&&(o|=2),r||(this.pos=this.blockLen),this.b2Compress(this.chunksDone,o,t,n),this.chunkPos+=1,this.chunkPos===16||r){let s=this.state;this.state=this.IV.slice();for(let i,a=this.chunksDone+1;(r||!(a&1))&&(i=this.stack.pop());a>>=1)this.buffer32.set(i,0),this.buffer32.set(s,8),this.pos=this.blockLen,this.b2Compress(0,this.flags|4,this.buffer32,0),s=this.state,this.state=this.IV.slice();this.chunksDone++,this.chunkPos=0,this.stack.push(s)}this.pos=0}_cloneInto(t){t=super._cloneInto(t);const{IV:n,flags:r,state:o,chunkPos:s,posOut:i,chunkOut:a,stack:c,chunksDone:u}=this;return t.state.set(o.slice()),t.stack=c.map(d=>Uint32Array.from(d)),t.IV.set(n),t.flags=r,t.chunkPos=s,t.chunksDone=u,t.posOut=i,t.chunkOut=a,t.enableXOF=this.enableXOF,t.bufferOut32.set(this.bufferOut32),t}destroy(){this.destroyed=!0,this.state.fill(0),this.buffer32.fill(0),this.IV.fill(0),this.bufferOut32.fill(0);for(let t of this.stack)t.fill(0)}b2CompressOut(){const{state:t,pos:n,flags:r,buffer32:o,bufferOut32:s}=this,{h:i,l:a}=Tt(BigInt(this.chunkOut++));Y||J(o);const{v0:c,v1:u,v2:d,v3:h,v4:f,v5:l,v6:p,v7:v,v8:m,v9:b,v10:g,v11:E,v12:k,v13:D,v14:q,v15:j}=sr(ir,0,o,7,t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],ge[0],ge[1],ge[2],ge[3],a,i,n,r);s[0]=c^m,s[1]=u^b,s[2]=d^g,s[3]=h^E,s[4]=f^k,s[5]=l^D,s[6]=p^q,s[7]=v^j,s[8]=t[0]^m,s[9]=t[1]^b,s[10]=t[2]^g,s[11]=t[3]^E,s[12]=t[4]^k,s[13]=t[5]^D,s[14]=t[6]^q,s[15]=t[7]^j,Y||(J(o),J(s)),this.posOut=0}finish(){if(this.finished)return;this.finished=!0,this.buffer.fill(0,this.pos);let t=this.flags|8;this.stack.length?(t|=4,Y||J(this.buffer32),this.compress(this.buffer32,0,!0),Y||J(this.buffer32),this.chunksDone=0,this.pos=this.blockLen):t|=(this.chunkPos?0:1)|2,this.flags=t,this.b2CompressOut()}writeInto(t){wt(this,!1),Nt(t),this.finish();const{blockLen:n,bufferOut:r}=this;for(let o=0,s=t.length;o<s;){this.posOut>=n&&this.b2CompressOut();const i=Math.min(n-this.posOut,s-o);t.set(r.subarray(this.posOut,this.posOut+i),o),this.posOut+=i,o+=i}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible after digest call");return this.writeInto(t)}xof(t){return He(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Dn(t,this),this.finished)throw new Error("digest() was already called");return this.enableXOF=!1,this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}}const Ac=Xa(e=>new Cn(e));var Ic=Object.defineProperty,$o=e=>{throw TypeError(e)},Dc=(e,t,n)=>t in e?Ic(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Zt=(e,t,n)=>Dc(e,typeof t!="symbol"?t+"":t,n),Ho=(e,t,n)=>t.has(e)||$o("Cannot "+n),We=(e,t,n)=>(Ho(e,t,"read from private field"),n?n.call(e):t.get(e)),en=(e,t,n)=>t.has(e)?$o("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),tn=(e,t,n,r)=>(Ho(e,t,"write to private field"),t.set(e,n),n),zo=new TextEncoder().encode("SS58PRE"),hn=2,jo=e=>{try{const t=Do.decode(e),n=t.subarray(0,t[0]&64?2:1),r=t.subarray(n.length,t.length-hn),o=t.subarray(n.length+r.length),s=Ft(Uint8Array.of(...zo,...n,...r),{dkLen:64}).subarray(0,hn);return o[0]===s[0]&&o[1]===s[1]?{isValid:!0,ss58Format:Bc(n),publicKey:r.slice()}:{isValid:!1}}catch{return{isValid:!1}}},Bc=e=>{const t=new DataView(e.buffer,e.byteOffset,e.byteLength);return t.byteLength===1?t.getUint8(0):t.getUint16(0)},No=e=>{const t=e<64?Uint8Array.of(e):Uint8Array.of((e&252)>>2|64,e>>8|(e&3)<<6);return n=>{const r=Ft(Uint8Array.of(...zo,...t,...n),{dkLen:64}).subarray(0,hn);return Do.encode(Uint8Array.of(...t,...n,...r))}};function Cc(e,t){return n=>{const r=jo(n);if(!r.isValid)throw new Error("Invalid checksum");const{publicKey:o}=r;if(o.length!==e)throw new Error("Invalid public key length");return o}}var Wt=(e=42,t=32)=>ot(oe(t),Cc(t),No(e)),Oc=new TextEncoder,Lc=new TextDecoder,Fe,ct,ut,Pc=class It{constructor(t){en(this,Fe),en(this,ct,null),en(this,ut,null),Zt(this,"asText",()=>We(this,ut)===null?tn(this,ut,Lc.decode(We(this,Fe))):We(this,ut)),Zt(this,"asHex",()=>We(this,ct)===null?tn(this,ct,Se(We(this,Fe))):We(this,ct)),Zt(this,"asBytes",()=>We(this,Fe)),tn(this,Fe,t)}static fromText(t){return new It(Oc.encode(t))}static fromHex(t){return new It(ht(t))}static fromBytes(t){return new It(t)}};Fe=new WeakMap;ct=new WeakMap;ut=new WeakMap;var On=Pc,Rc=class Fo extends On{constructor(t){super(t)}static fromArray(t){return new Fo(new Uint8Array(t))}},qo=e=>{const t=oe.enc(e);return n=>t(n.asBytes())},Vo=e=>{const t=oe.dec(e);return n=>On.fromBytes(t(n))},gt=e=>L(qo(e),Vo(e));gt.enc=qo;gt.dec=Vo;var x=pe,Tc=pe,Wc=xn(e=>{const t=x.dec(e),n=Math.ceil(t/8);return{bytes:oe(n).dec(e),bitsLen:t}}),Uc=e=>{if(e.bitsLen>e.bytes.length*8)throw new Error(`Not enough bytes. (bitsLen:${e.bitsLen}, bytesLen:${e.bytes.length})`);const t=x.enc(e.bitsLen),n=new Uint8Array(e.bytes.length+t.length);return n.set(t,0),n.set(e.bytes,t.length),n},Jo=L(Uc,Wc),Mc=ot(F,e=>e.charCodeAt(0),String.fromCharCode),Go=e=>{const t=oe.enc(e);return n=>t(ht(n))},Yo=e=>{const t=oe.dec(e);return n=>Se(t(n))},Pe=e=>L(Go(e),Yo(e));Pe.enc=Go;Pe.dec=Yo;var Kc=new TextEncoder,$c=new TextDecoder,Hc=e=>ot(oe(e),t=>Kc.encode(t),t=>$c.decode(t)),Xo=e=>{let t=n=>{const r=e();return t=r,r(n)};return n=>t(n)},Qo=e=>{let t=n=>{const r=e(),o=r;return t=r,o(n)};return n=>t(n)},Zo=e=>L(Xo(()=>e().enc),Qo(()=>e().dec)),zc={is(e,t){return e.type===t},as(e,t){if(t!==e.type)throw new Error(`Enum.as(enum, ${t}) used with actual type ${e.type}`);return e}},Ln=Object.assign((e,t)=>({type:e,value:t}),zc),jc=new Proxy({},{get(e,t){return n=>Ln(t,n)}}),es=(...e)=>{const t=we.enc(...e);return n=>t({tag:n.type,value:n.value})},ts=(...e)=>{const t=we.dec(...e);return n=>{const{tag:r,value:o}=t(n);return Ln(r,o)}},tt=(e,...t)=>L(es(un(e,([n])=>n),...t),ts(un(e,([,n])=>n),...t));tt.enc=es;tt.dec=ts;var ar=e=>{const t=e.slice(2),n=Se(_c(t)).slice(2),r=new Array(40);for(let o=0;o<40;o++){const s=parseInt(n[o],16),i=t[o];r[o]=s>7?i.toUpperCase():i}return`0x${r.join("")}`},Nc=oe(20)[1],ns=L(e=>{const t=ht(e);if(t.length!==20)throw new Error(`Invalid length found on EthAddress(${e})`);const n=Se(t);if(e===n||e===n.toUpperCase())return t;if(ar(n)!==e)throw new Error(`Invalid checksum found on EthAddress(${e})`);return t},xn(e=>ar(Se(Nc(e))))),cr=new TextEncoder,ur=new TextDecoder,Fc=ot(oe(4),cr.encode.bind(cr),ur.decode.bind(ur)),nn=_({engine:Fc,payload:Pe()}),qc=tt({consensus:nn,seal:nn,preRuntime:nn,runtimeUpdated:B},[4,5,6,8]),rn=Pe(32),rs=_({parentHash:rn,number:x,stateRoot:rn,extrinsicRoot:rn,digests:O(qc)}),_e=O(Q),lr=he(Q),Vc=we({bool:B,char:B,str:B,u8:B,u16:B,u32:B,u64:B,u128:B,u256:B,i8:B,i16:B,i32:B,i64:B,i128:B,i256:B}),os=O(_({name:lr,type:x,typeName:lr,docs:_e})),Jc=_({len:xe,type:x}),Gc=_({bitStoreType:x,bitOrderType:x}),Yc=O(_({name:Q,fields:os,index:F,docs:_e})),Xc=we({composite:os,variant:Yc,sequence:x,array:Jc,tuple:O(x),primitive:Vc,compact:x,bitSequence:Gc}),Qc=_({name:Q,type:he(x)}),Zc=O(Qc),eu=_({id:x,path:_e,params:Zc,def:Xc,docs:_e}),ss=O(eu),tu=we({Blake2128:B,Blake2256:B,Blake2128Concat:B,Twox128:B,Twox256:B,Twox64Concat:B,Identity:B}),nu=O(tu),ru=_({hashers:nu,key:x,value:x}),ou=_({name:Q,modifier:F,type:we({plain:x,map:ru}),fallback:Pe(),docs:_e}),su=he(_({prefix:Q,items:O(ou)})),is={name:Q,storage:su,calls:he(x),events:he(x),constants:O(_({name:Q,type:x,value:Pe(),docs:_e})),errors:he(x),index:F},iu={...is,docs:_e},au=_({name:Q,methods:O(_({name:Q,inputs:O(_({name:Q,type:x})),output:x,docs:_e})),docs:_e}),cu=_({version:F,address:x,call:x,signature:x,extra:x,signedExtensions:O(_({identifier:Q,type:x,additionalSigned:x}))}),as=_({lookup:ss,pallets:O(_(iu)),extrinsic:cu,type:x,apis:O(au),outerEnums:_({call:x,event:x,error:x}),custom:O(ye(Q,_({type:x,value:Pe()})))}),uu=new Uint8Array,fr=e=>L(()=>uu,()=>e),lu=_({type:x,version:F,signedExtensions:O(_({identifier:Q,type:x,additionalSigned:x}))}),cs=_({lookup:ss,pallets:O(_({...is,docs:fr([])})),extrinsic:lu,type:x,apis:fr([])}),dr=()=>{throw new Error("Unsupported metadata version!")},ne=L(dr,dr),pn=_({magicNumber:xe,metadata:we({v0:ne,v1:ne,v2:ne,v3:ne,v4:ne,v5:ne,v6:ne,v7:ne,v8:ne,v9:ne,v10:ne,v11:ne,v12:ne,v13:ne,v14:cs,v15:as})}),fu={dkLen:32},du=e=>Ft(e,fu),hu={dkLen:16},us=e=>Ft(e,hu),ls=e=>Qe(us(e),e),pu={dkLen:32},fs=e=>Ac(e,pu),vu=e=>Qe(fs(e),e),ds=e=>e,Ue=(e,t,n,r)=>new DataView(new Uint16Array([e,t,n,r]).buffer).getBigUint64(0,!0),Pn=2n**64n-1n,V=(e,t)=>e<<t&Pn|e>>64n-t,I=(e,t)=>e*t&Pn,$=(e,t)=>e+t&Pn,H=11400714785074694791n,ie=14029467366897019727n,hr=1609587929392839161n,at=9650029242287828579n,pr=2870177450012600261n;function me(e,t=0n){let n=$($(t,H),ie),r=$(t,ie),o=t,s=t-H,i=e.length,a=0,c=null;(function(){let l=0,p=l+i;if(i){if(c=new Uint8Array(32),i<32){c.set(e.subarray(0,i),a),a+=i;return}if(l<=p-32){const v=p-32;do{let m;m=Ue(e[l+1]<<8|e[l],e[l+3]<<8|e[l+2],e[l+5]<<8|e[l+4],e[l+7]<<8|e[l+6]),n=I(V($(n,I(m,ie)),31n),H),l+=8,m=Ue(e[l+1]<<8|e[l],e[l+3]<<8|e[l+2],e[l+5]<<8|e[l+4],e[l+7]<<8|e[l+6]),r=I(V($(r,I(m,ie)),31n),H),l+=8,m=Ue(e[l+1]<<8|e[l],e[l+3]<<8|e[l+2],e[l+5]<<8|e[l+4],e[l+7]<<8|e[l+6]),o=I(V($(o,I(m,ie)),31n),H),l+=8,m=Ue(e[l+1]<<8|e[l],e[l+3]<<8|e[l+2],e[l+5]<<8|e[l+4],e[l+7]<<8|e[l+6]),s=I(V($(s,I(m,ie)),31n),H),l+=8}while(l<=v)}l<p&&(c.set(e.subarray(l,p),a),a=p-l)}})(),e=c||e;let u,d=0;for(i>=32?(u=V(n,1n),u=$(u,V(r,7n)),u=$(u,V(o,12n)),u=$(u,V(s,18n)),n=I(V(I(n,ie),31n),H),u=u^n,u=$(I(u,H),at),r=I(V(I(r,ie),31n),H),u=u^r,u=$(I(u,H),at),o=I(V(I(o,ie),31n),H),u=u^o,u=$(I(u,H),at),s=I(V(I(s,ie),31n),H),u=u^s,u=$(I(u,H),at)):u=$(t,pr),u=$(u,BigInt(i));d<=a-8;){let f=Ue(e[d+1]<<8|e[d],e[d+3]<<8|e[d+2],e[d+5]<<8|e[d+4],e[d+7]<<8|e[d+6]);f=I(V(I(f,ie),31n),H),u=$(I(V(u^f,27n),H),at),d+=8}if(d+4<=a){let f=I(Ue(e[d+1]<<8|e[d],e[d+3]<<8|e[d+2],0,0),H);u=$(I(V(u^f,23n),ie),hr),d+=4}for(;d<a;){const f=I(Ue(e[d++],0,0,0),pr);u=I(V(u^f,11n),H)}let h=u>>33n;return u=I(u^h,ie),h=u>>29n,u=I(u^h,hr),h=u>>32n,u^=h,u}var vn=e=>{const t=new Uint8Array(16),n=new DataView(t.buffer);return n.setBigUint64(0,me(e),!0),n.setBigUint64(8,me(e,1n),!0),t},mu=e=>{const t=new Uint8Array(32),n=new DataView(t.buffer);return n.setBigUint64(0,me(e),!0),n.setBigUint64(8,me(e,1n),!0),n.setBigUint64(16,me(e,2n),!0),n.setBigUint64(24,me(e,3n),!0),t},hs=e=>Qe(zt.enc(me(e)),e),vr=new TextEncoder,ps=e=>{const t=vn(vr.encode(e));return(n,r,...o)=>{const s=Qe(t,vn(vr.encode(n))),i=Se(s),a=o.map(h=>h[1]).map(h=>h===ds?0:h===hs?8:h===ls?16:null).filter(Boolean),c=h=>{if(!h.startsWith(i))throw new Error(`key does not match this storage (${e}.${n})`);if(a.length!==o.length)throw new Error("Impossible to decode this key");if(o.length===0)return[];const f=h.slice(i.length),l=new Array(o.length);for(let p=0,v=0;p<a.length;p++){const m=o[p][0];v+=a[p],l[p]=m.dec(f.slice(v*2)),v+=m.enc(l[p]).length}return l},u=o.map(([{enc:h},f])=>l=>f(h(l)));return{enc:(...h)=>Se(Qe(s,...h.map((f,l)=>u[l](f)))),dec:r,keyDecoder:c}}};const vs=Object.freeze(Object.defineProperty({__proto__:null,AccountId:Wt,Bin:gt,Binary:On,Blake2128:us,Blake2128Concat:ls,Blake2256:du,Blake3256:fs,Blake3256Concat:vu,Bytes:oe,Enum:Ln,FixedSizeBinary:Rc,Hex:Pe,Identity:ds,Option:he,Result:jt,ScaleEnum:we,Self:Zo,Storage:ps,Struct:_,Tuple:ye,Twox128:vn,Twox256:mu,Twox64Concat:hs,Variant:tt,Vector:O,_Enum:jc,_void:B,bitSequence:Jo,blockHeader:rs,bool:In,char:Mc,compact:pe,compactBn:Tc,compactNumber:x,createCodec:L,createDecoder:xn,enhanceCodec:ot,enhanceDecoder:An,enhanceEncoder:_n,ethAccount:ns,fixedStr:Hc,fromBufferToBase58:No,getSs58AddressInfo:jo,h64:me,i128:ka,i16:ba,i256:Sa,i32:ya,i64:wa,i8:ma,metadata:pn,selfDecoder:Qo,selfEncoder:Xo,str:Q,u128:ga,u16:yt,u256:Ea,u32:xe,u64:zt,u8:F,v14:cs,v15:as},Symbol.toStringTag,{value:"Module"}));var mr=(e,t)=>e.type==="array"&&e.len===t&&e.value.type==="primitive"&&e.value.value==="u8",Rn=e=>{const t=new Map,n=new Set,r=a=>c=>{let u=t.get(c);if(u)return u;if(n.has(c)){const h={id:c};return t.set(c,h),h}n.add(c);const d=a(c);return u=t.get(c),u?Object.assign(u,d):(u={id:c,...d},t.set(c,u)),n.delete(c),u};let o=!0,s=!0;const i=r(a=>{const{def:c,path:u,params:d}=e[a];if(c.tag==="composite"){if(c.value.length===0)return{type:"void"};if(c.value.length===1){const p=i(c.value[0].type);return o&&u.at(-1)==="AccountId32"&&mr(p,32)?(o=!1,{type:"AccountId32"}):s&&u.at(-1)==="AccountId20"&&mr(p,20)?(s=!1,{type:"AccountId20"}):p}let h=!0;const f={},l={};return c.value.forEach((p,v)=>{h=h&&!!p.name;const m=p.name||v;f[m]=i(p.type),l[m]=p.docs}),h?{type:"struct",value:f,innerDocs:l}:{type:"tuple",value:Object.values(f),innerDocs:Object.values(l)}}if(c.tag==="variant"){if(u.length===1&&u[0]==="Option"&&d.length===1&&d[0].name==="T"){const l=i(d[0].type);return l.type==="void"?{type:"primitive",value:"bool"}:{type:"option",value:l}}if(u.length===1&&u[0]==="Result"&&d.length===2&&d[0].name==="T"&&d[1].name==="E")return{type:"result",value:{ok:i(d[0].type),ko:i(d[1].type)}};if(c.value.length===0)return{type:"void"};const h={},f={};return c.value.forEach(l=>{const p=l.name;if(f[p]=l.docs,l.fields.length===0){h[p]={type:"void",idx:l.index};return}if(l.fields.length===1&&!l.fields[0].name){h[p]={type:"lookupEntry",value:i(l.fields[0].type),idx:l.index};return}let v=!0;const m={},b={};if(l.fields.forEach((g,E)=>{v=v&&!!g.name;const k=g.name||E;m[k]=i(g.type),b[k]=g.docs}),v)h[p]={type:"struct",value:m,innerDocs:b,idx:l.index};else{const g=Object.values(m),E=Object.values(b),k=g.every(D=>D.id===g[0].id);h[p]=k&&E.every(D=>D.length===0)?{type:"array",value:g[0],len:g.length,idx:l.index}:{type:"tuple",value:g,innerDocs:E,idx:l.index}}}),{type:"enum",value:h,innerDocs:f}}if(c.tag==="sequence")return{type:"sequence",value:i(c.value)};if(c.tag==="array"){const{len:h}=c.value,f=i(c.value.type);return h===0?{type:"void"}:h===1?f:{type:"array",value:f,len:c.value.len}}if(c.tag==="tuple"){if(c.value.length===0)return{type:"void"};if(c.value.length===1)return i(c.value[0]);const h=c.value.map(p=>i(p)),f=c.value.map(p=>e[p].docs);return h.every(p=>p.id===h[0].id)&&f.every(p=>p.length===0)?{type:"array",value:h[0],len:h.length}:{type:"tuple",value:h,innerDocs:f}}if(c.tag==="primitive")return{type:"primitive",value:c.value.tag};if(c.tag==="compact"){const h=i(c.value);return h.type==="void"?{type:"compact",isBig:null}:{type:"compact",isBig:Number(h.value.slice(1))>32}}return{type:c.tag}});return i},bu=(e,t,n)=>(r,o,s,...i)=>{const{id:a}=r;if(o.has(a))return o.get(a);if(s.has(a)){const u=t(()=>o.get(a),r,...i);return o.set(a,u),u}s.add(a);let c=e(r,o,s,...i);return s.delete(a),o.has(a)&&(c=n(c,o.get(a),r,...i)),o.set(a,c),c},yu=gt(),wu=(e,t,n,r)=>{if(e.type==="primitive")return vs[e.value];if(e.type==="void")return B;if(e.type==="AccountId32")return r;if(e.type==="AccountId20")return ns;if(e.type==="compact")return pe;if(e.type==="bitSequence")return Jo;const o=f=>ms(f,t,n,r),s=(f,l)=>{const p=o(f);return l?O(p,l):O(p)},i=f=>ye(...f.map(o)),a=f=>{const l=Object.fromEntries(Object.entries(f).map(([p,v])=>[p,o(v)]));return _(l)};if(e.type==="sequence"&&e.value.type==="primitive"&&e.value.value==="u8")return yu;if(e.type==="array")return e.value.type==="primitive"&&e.value.value==="u8"?gt(e.len):s(e.value,e.len);if(e.type==="sequence")return s(e.value);if(e.type==="tuple")return i(e.value);if(e.type==="struct")return a(e.value);if(e.type==="option")return he(o(e.value));if(e.type==="result")return jt(o(e.value.ok),o(e.value.ko));const c=Object.values(e.value).map(f=>{switch(f.type){case"void":return B;case"lookupEntry":return o(f.value);case"tuple":return i(f.value);case"struct":return a(f.value);case"array":return s(f.value,f.len)}}),u=Object.fromEntries(Object.keys(e.value).map((f,l)=>[f,c[l]])),d=Object.values(e.value).map(f=>f.idx);return d.every((f,l)=>f===l)?tt(u):tt(u,d)},ms=bu(wu,Zo,e=>e),gu=e=>{var p;const t=e.lookup,n=Rn(t);let r=Wt();const o=new Map,s=v=>ms(n(v),o,new Set,r),i=(p=e.pallets.find(v=>v.name==="System"))==null?void 0:p.constants.find(v=>v.name==="SS58Prefix");let a;if(i)try{const v=s(i.type).dec(i.value);typeof v=="number"&&(a=v,r=Wt(v))}catch{}const c=new Map,u=(v,m)=>{let b=c.get(v);b||c.set(v,b=ps(v));const g=e.pallets.find(ee=>ee.name===v).storage.items.find(ee=>ee.name===m),E=(ee,...Te)=>{const je=b(...Te);return{...je,len:ee,fallback:g.modifier===1?je.dec(g.fallback):void 0}};if(g.type.tag==="plain")return E(0,m,s(g.type.value).dec);const{key:k,value:D,hashers:q}=g.type.value,j=s(D),ue=q.map(ee=>vs[ee.tag]),Re=(()=>{if(ue.length===1)return[[s(k),ue[0]]];const ee=n(k);switch(ee.type){case"array":return ue.map(Te=>[s(ee.value.id),Te]);case"tuple":return ee.value.map((Te,je)=>[s(Te.id),ue[je]]);default:throw new Error("Invalid key type")}})();return E(ue.length,m,j.dec,...Re)},d=v=>{switch(v.type){case"void":return B;case"lookupEntry":return s(v.value.id);case"tuple":return ye(...Object.values(v.value).map(m=>s(m.id)));case"struct":return _(un(v.value,m=>s(m.id)));case"array":return O(s(v.value.id),v.len)}},h=(v,m)=>{const b=e.pallets.find(g=>g.name===v).constants.find(g=>g.name===m);return s(b.type)},f=v=>(m,b)=>{const g=e.pallets.find(D=>D.name===m),E=n(g[v]);if(E.type!=="enum")throw null;const k=E.value[b];return{location:[g.index,k.idx],codec:d(E.value[b])}},l=(v,m)=>{var g;const b=(g=e.apis.find(E=>E.name===v))==null?void 0:g.methods.find(E=>E.name===m);if(!b)throw null;return{args:ye(...b.inputs.map(E=>s(E.type))),value:s(b.output)}};return{buildDefinition:s,buildStorage:u,buildEvent:f("events"),buildError:f("errors"),buildRuntimeCall:l,buildCall:f("calls"),buildConstant:h,ss58Prefix:a}};function ku(e,t){const n=new Map,r=new Set,o=(s,i)=>{n.has(s)||n.set(s,{entry:e(s),backRefs:new Set,refs:new Set}),n.has(i)||n.set(i,{entry:e(i),backRefs:new Set,refs:new Set}),n.get(s).refs.add(i),n.get(i).backRefs.add(s)};for(let s=0;s<t;s++){const i=e(s);if(s!==i.id&&o(s,i.id),!r.has(i.id)){switch(r.add(i.id),i.type){case"array":case"option":case"sequence":o(i.id,i.value.id);break;case"enum":Object.values(i.value).forEach(a=>{switch(a.type){case"array":case"lookupEntry":o(i.id,a.value.id);break;case"struct":case"tuple":Object.values(a.value).forEach(c=>o(i.id,c.id));break}});break;case"result":o(i.id,i.value.ok.id),o(i.id,i.value.ko.id);break;case"struct":case"tuple":Object.values(i.value).forEach(a=>o(i.id,a.id));break}n.has(i.id)||n.set(i.id,{backRefs:new Set,refs:new Set,entry:i})}}return n}var on=new WeakMap;function mn(e,t,n,r){if(n.has(e))return;const o=t.get(e);n.set(e,o),r.set(e,n),o.refs.forEach(s=>mn(s,t,n,r)),o.backRefs.forEach(s=>mn(s,t,n,r))}function Eu(e,t){on.has(t)||on.set(t,new Map);const n=on.get(t);if(n.has(e))return n.get(e);const r=new Map;return mn(e,t,r,n),r}function Su(e){const t=new Map;let n=0;const r=[],o=[];function s(i){const a={index:n,lowLink:n,onStack:!0};t.set(i,a),n++,r.push(i);const c=e.get(i).refs;for(let u of c){const d=t.get(u);d?d.onStack&&(a.lowLink=Math.min(a.lowLink,d.index)):(s(u),a.lowLink=Math.min(a.lowLink,t.get(u).lowLink))}if(a.lowLink===a.index){const u=new Set;let d=-1;do d=r.pop(),t.get(d).onStack=!1,u.add(d);while(d!==i);u.size>1&&o.push(u)}}for(const i of e.keys())t.has(i)||s(i);return o}function xu(e){const t=e,n=new Set(t.map((s,i)=>i)),r=new Map(t.map((s,i)=>[i,new Set]));t.forEach((s,i)=>{t.slice(i+1).forEach((a,c)=>{const u=c+i+1;new Set([...s,...a]).size!==s.size+a.size&&(r.get(i).add(u),r.get(u).add(i))})});const o=[];for(;n.size;){const s=new Set,i=[n.values().next().value];for(;i.length;){const a=i.pop();if(!n.has(a))continue;n.delete(a),t[a].forEach(u=>s.add(Number(u))),r.get(a).forEach(u=>i.push(u))}o.push(s)}return o}var br=new TextEncoder,_u=br.encode.bind(br),P=e=>{const t=new Uint8Array(e.length*8),n=new DataView(t.buffer);for(let r=0;r<e.length;r++)n.setBigUint64(r*8,e[r]);return me(t)},bs=e=>P(e.map(t=>me(_u(t)))),U={primitive:0n,vector:1n,tuple:2n,struct:3n,option:4n,result:5n,enum:6n,void:7n},T={undefined:0n,number:1n,string:2n,bigint:3n,boolean:4n,bitSequence:5n,byteSequence:6n,accountId32:7n,accountId20:8n},Au={bool:T.boolean,char:T.string,str:T.string,u8:T.number,u16:T.number,u32:T.number,u64:T.bigint,u128:T.bigint,u256:T.bigint,i8:T.number,i16:T.number,i32:T.number,i64:T.bigint,i128:T.bigint,i256:T.bigint},Ut=(e,t,n)=>{const r=Object.entries(t).sort(([i],[a])=>i.localeCompare(a)),o=bs(r.map(([i])=>i)),s=P(r.map(([,i])=>n(i)));return P([e,o,s])},ys=(e,t)=>{if(e.type==="primitive")return P([U.primitive,Au[e.value]]);if(e.type==="void")return P([U.void]);if(e.type==="compact")return P([U.primitive,T[e.isBig||e.isBig===null?"bigint":"number"]]);if(e.type==="bitSequence")return P([U.primitive,T.bitSequence]);if(e.type==="AccountId32")return P([U.primitive,T.accountId32]);if(e.type==="AccountId20")return P([U.primitive,T.accountId20]);const n=(s,i)=>{const a=t(s);return P(i!==void 0?[U.vector,a,BigInt(i)]:[U.vector,a])};if(e.type==="array"){const s=e.value;return s.type==="primitive"&&s.value==="u8"?P([U.primitive,T.byteSequence,BigInt(e.len)]):n(s,e.len)}if(e.type==="sequence"){const s=e.value;return s.type==="primitive"&&s.value==="u8"?P([U.primitive,T.byteSequence]):n(s)}const r=s=>P([U.tuple,...s.map(t)]),o=s=>Ut(U.struct,s,t);return e.type==="tuple"?r(e.value):e.type==="struct"?o(e.value):e.type==="option"?P([U.option,t(e.value)]):e.type==="result"?P([U.result,t(e.value.ok),t(e.value.ko)]):Ut(U.enum,e.value,s=>{if(s.type==="lookupEntry")return t(s.value);switch(s.type){case"void":return P([U.void]);case"tuple":return r(s.value);case"struct":return o(s.value);case"array":return n(s.value,s.len)}})},Iu=(e,t)=>{const n=s=>{var c;const i=new Set,a=Array.from(s);for(;a.length;){const u=a.pop();i.has(u)||(i.add(u),(c=t.get(u))==null||c.refs.forEach(d=>a.push(d)))}return Array.from(i)},r=new Array;function o(s){r.includes(s)||(e.filter(a=>a!==s&&n(s).some(c=>a.has(c))).forEach(a=>o(a)),r.includes(s))||r.push(s)}return e.forEach(s=>o(s)),r};function ws(e,t,n,r){const o=new Map([...e].map(a=>[a,0n])),s=new Map,i=(a,c=!0)=>{if(!c&&(o.has(a.id)||n.has(a.id)))return o.get(a.id)??n.get(a.id);const u=ys(a,d=>i(d,!1));return e.has(a.id)?s.set(a.id,u):n.set(a.id,u),u};for(let a=0;a<t;a++)e.forEach(c=>i(r.get(c).entry)),e.forEach(c=>o.set(c,s.get(c)));return o}function Du(e,t){const n=e.reduce((c,u)=>Math.max(c,u.size),0),r=new Set([...t.values()].map(c=>c.entry.id)),o=ws(r,n,new Map,t),s=new Map;for(const c of r){const u=o.get(c);if(u==null)throw new Error("Unreachable");s.has(u)||s.set(u,[]),s.get(u).push(c)}const i=[...s.entries()].filter(([,c])=>c.length>1),a={};return i.forEach(([,c])=>{c.forEach(u=>a[u]=c)}),a}var Bu=(e,t,n)=>{if(t.has(e.id))return t.get(e.id);const r=Eu(e.id,n),o=Su(r),s=xu(o).filter(u=>!t.has(u.values().next().value)),i=Du(s,r);Iu(s.filter(u=>u.size>1),r).forEach(u=>{if(t.has(u.values().next().value))return;const d=ws(u,u.size,t,n);u.forEach(h=>{const f=d.get(h);h in i?i[h].forEach(l=>t.set(l,f)):t.set(h,f)})});const c=u=>t.has(u.id)?t.get(u.id):ys(u,c);return c(e)},Cu=e=>{const t=e.lookup,n=Rn(t),r=ku(n,t.length),o=new Map,s=l=>Bu(n(l),o,r),i=(l,p)=>{try{const v=e.pallets.find(k=>k.name===l).storage.items.find(k=>k.name===p);if(v.type.tag==="plain")return s(v.type.value);const{key:m,value:b}=v.type.value,g=s(b),E=s(m);return P([g,E])}catch{return null}},a=(l,p)=>{var v;try{const m=(v=e.apis.find(k=>k.name===l))==null?void 0:v.methods.find(k=>k.name===p);if(!m)throw null;const b=bs(m.inputs.map(k=>k.name)),g=P(m.inputs.map(k=>s(k.type))),E=s(m.output);return P([b,g,E])}catch{return null}},c=l=>{if(l.type==="void")return P([0n]);if(l.type==="tuple"){const p=Object.values(l.value).map(v=>s(v.id));return P([U.tuple,...p])}return l.type==="array"?P([U.vector,s(l.value.id),BigInt(l.len)]):Ut(U.struct,l.value,p=>s(p.id))},u=l=>Ut(U.tuple,l.value,p=>s(p.id)),d=l=>(p,v)=>{try{const m=e.pallets.find(E=>E.name===p),b=n(m[l]);if(s(b.id),b.type!=="enum")throw null;const g=b.value[v];return g.type==="lookupEntry"?s(g.value.id):c(g)}catch{return null}},h=(l,p)=>{try{const v=e.pallets.find(m=>m.name===l).constants.find(m=>m.name===p);return s(v.type)}catch{return null}},f=l=>(...p)=>{var v;return((v=l(...p))==null?void 0:v.toString(32))??null};return{buildDefinition:f(s),buildRuntimeCall:f(a),buildStorage:f(i),buildCall:f(d("calls")),buildEvent:f(d("events")),buildError:f(d("errors")),buildConstant:f(h),buildComposite:f(c),buildNamedTuple:f(u),getAllGeneratedChecksums:()=>Array.from(o.values()).map(l=>l.toString(32))}},Ou=Object.defineProperty,Lu=(e,t,n)=>t in e?Ou(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yr=(e,t,n)=>Lu(e,typeof t!="symbol"?t+"":t,n),lt=Ht({connector:()=>new En(1),resetOnError:!0,resetOnComplete:!0,resetOnRefCountZero:!0}),Pu=(e,t=1/0)=>n=>new C(r=>{let o;const s=new Map,i=new Map,a=new Map;let c=0,u=0,d=0;const h=()=>{const f=s.get(u);if(!f){i.size===0&&(typeof o>"u"||o.closed)&&r.complete();return}const l=u++;s.delete(l),d!==l&&a.set(l,[]),i.set(l,f.subscribe({next(p){d===l?r.next(p):a.get(l).push(p)},complete(){if(i.delete(l),l===d)for(d++;a.has(d)&&(a.get(d).forEach(p=>r.next(p)),a.delete(d),!i.has(d));)d++;h()},error(p){r.error(p)}}))};return o=n.subscribe({next(f){const l=c++;s.set(l,so(()=>e(f,l))),i.size<t&&h()},error(f){r.error(f)},complete(){i.size===0&&r.complete()}}),()=>{i.forEach(f=>f.unsubscribe()),o.unsubscribe(),s.clear(),a.clear()}}),Ru=e=>t=>new C(n=>{let r=!1;const o=t.subscribe({next(s){r=!0,n.next(s)},error(s){n.error(s)},complete(){n.complete()}});return r||n.next(e),o}),Tu=class{constructor(){yr(this,"first"),yr(this,"last")}getRemoveFn(e){return()=>{e.prev?e.prev.next=e.next:this.first=e.next,e.next?e.next.prev=e.prev:this.last=e.prev,delete e.prev,delete e.next}}push(e){const t={value:e};return this.last===void 0?this.last=this.first=t:(this.last.next=t,t.prev=this.last,this.last=t),this.getRemoveFn(t)}unshift(e){return this.first={value:e,next:this.first},this.first.next&&(this.first.next.prev=this.first),this.last||(this.last=this.first),this.getRemoveFn(this.first)}pop(){var t,n;const e=(t=this.first)==null?void 0:t.value;return this.first&&(this.first=this.first.next,this.first?((n=this.first.prev)==null||delete n.next,delete this.first.prev):this.last=void 0),e}isEmpty(){return!this.first}},Wu=()=>{const e=new Map,t=(f,l)=>{e.set(f,()=>{e.delete(f),l()})},n=f=>{var l;(l=e.get(f))==null||l()},r=new Tu,o=r.unshift.bind(r),s=r.push.bind(r),i=(f,l)=>{const p=l?o:s;t(f.source$,p(f))},a=()=>{const f=r.pop();f&&(e.delete(f.source$),c(f))},c=f=>{const{source$:l,observer:p}=f;let v=!1;const m=l.subscribe({next(b){p.next(b)},error(b){(v=b instanceof Kt)?i(f,!0):p.error(b)},complete(){p.complete()}});m.closed?v||a():t(l,()=>{m.unsubscribe(),a()})},u=(f=!1)=>l=>new C(p=>{const v={observer:p,source$:l};return r.isEmpty()?c(v):i(v,f),()=>{n(l)}}),d=u();return{withRecovery:u,withRecoveryFn:f=>(...l)=>d(f(...l))}},Uu=(e,t)=>n=>(r,...o)=>(r===null||r==="finalized"?e:r==="best"?t:et(r)).pipe($e(1),X(i=>n(i,...o))),wr=e=>(...t)=>new C(n=>{let r=new AbortController;return e(...t,r.signal).then(o=>{n.next(o),n.complete()},o=>{n.error(o)}),()=>{n.unsubscribe(),r.abort(),r=void 0}}),Mu=e=>t=>(...n)=>e()[t](...n),Tn=class extends Error{constructor(){super("Block is not pinned"),this.name="BlockNotPinnedError"}},Ku=class extends Error{constructor(){super("Block pruned"),this.name="BlockPrunedError"}},$u=class extends Error{constructor(){super("Block is not best block or finalized"),this.name="NotBestBlockError"}},Hu=e=>{let t=null,n=mt;const r=new C(o=>{t=e(!0,s=>{o.next(s)},s=>{t=null,o.error(s)}),n=()=>{o.complete(),t==null||t.unfollow()}}).pipe(Ht());return{getFollower:()=>{if(!t)throw new Error("Missing chainHead subscription");return t},unfollow:()=>{n()},follow$:r}},gs=()=>e=>new C(t=>{const n=new nt,r=()=>e.subscribe({next:o=>t.next(o),error:o=>{o instanceof Ir?(t.next({type:"stop-error"}),n.add(r())):t.error(o)},complete:()=>t.complete()});return n.add(r()),n}),zu=Se(xe.enc(15)),ju=ye(pe,oe()),Nu=he(oe()),Fu=O(xe).dec,qu=(e,t)=>{const n=r=>{const o=(c,u,d)=>e(c,u,d).pipe(Lt(h=>{if(h instanceof Tn)return t.pipe($e(1),Sn(f=>o(f,u,d)));throw h})),s=o(r,"Metadata_metadata_versions","").pipe(M(Fu)),i=o(r,"Metadata_metadata","").pipe(M(c=>{const[,u]=ju.dec(c);return{metadata:pn.dec(u).metadata.value,metadataRaw:u}})),a=o(r,"Metadata_metadata_at_version",zu).pipe(M(c=>{const u=Nu.dec(c);return{metadata:pn.dec(u).metadata.value,metadataRaw:u}}));return s.pipe(Lt(()=>et([14])),X(c=>c.includes(15)?a:i))};return r=>{const o=new Set([r]),s=n(r).pipe(M(({metadata:a,metadataRaw:c})=>{const u=Cu(a),d=gu(a),h=d.buildStorage("System","Events"),f=a.extrinsic.signedExtensions.find(v=>v.identifier==="ChargeAssetTxPayment");let l=null;if(f){const v=Rn(a.lookup)(f.type);if(v.type==="struct"){const m=v.value.asset_id;m.type==="option"&&(l=m.value.id)}}return{asset:l===null?[B.enc,null]:[d.buildDefinition(l).enc,u.buildDefinition(l)],metadataRaw:c,metadata:a,checksumBuilder:u,dynamicBuilder:d,events:{key:h.enc(),dec:h.dec},accountId:Wt(d.ss58Prefix)}}),ua(1)),i={at:r,runtime:s,addBlock:a=>(o.add(a),i),deleteBlocks:a=>(a.forEach(c=>{o.delete(c)}),o.size),usages:o};return s.subscribe(),i}},ks=(e,t)=>{var n;(n=e.get(e.get(t).parent))==null||n.children.delete(t),e.delete(t)},Vu=(e,t)=>{const n=[...t];let r=e.blocks.get(e.blocks.get(e.finalized).parent);const o=[];for(;r;)o.push(r.hash),r.refCount===0&&!r.unpinned&&(n.push(r.hash),r.unpinned=!0),r=e.blocks.get(r.parent);const s=[...t];for(let i=o.length-1;i>=0;i--){if(r=e.blocks.get(o[i]),!r.unpinned)return n;s.push(r.hash)}return s.forEach(i=>{ks(e.blocks,i)}),Object.entries(e.runtimes).map(([i,a])=>({key:i,usages:a.deleteBlocks(s)})).filter(i=>i.usages===0).map(i=>i.key).forEach(i=>{delete e.runtimes[i]}),n},Ju=(e,t,n,r,o)=>{const s=io(r,e.pipe(Gu(t),gs())).pipe(co((a,c)=>{switch(c.type){case"initialized":a.recovering&&(c.finalizedBlockHashes.some(l=>a.blocks.has(l))||(a=gr()));const[u]=c.finalizedBlockHashes.slice(-1);a.finalized=a.best=u;const d=c.finalizedBlockHashes.length-1;c.finalizedBlockHashes.forEach((f,l)=>{a.blocks.has(f)?a.blocks.get(f).recovering=!1:a.blocks.set(f,{hash:f,parent:l===0?c.parentHash:c.finalizedBlockHashes[l-1],children:new Set(l===d?[]:[c.finalizedBlockHashes[l+1]]),runtime:f,refCount:0,number:c.number+l,recovering:!1})});const h=Object.values(a.runtimes).find(f=>f.usages.has(u));return a.finalizedRuntime=h??(a.runtimes[u]=i(u)),a;case"stop-error":for(const f of a.blocks.values())f.recovering=!0;return a.recovering=!0,a;case"newBlock":{const{parentBlockHash:f,blockHash:l}=c;if(a.blocks.has(l))a.blocks.get(l).recovering=!1;else{const p=a.blocks.get(f);p.children.add(l),c.newRuntime&&(a.runtimes[l]=i(l),a.runtimes[l].runtime.subscribe());const v={hash:l,number:p.number+1,parent:f,children:new Set,runtime:c.newRuntime?l:p.runtime,refCount:0,recovering:!1};a.blocks.set(l,v),a.runtimes[v.runtime].addBlock(l)}return a}case"bestBlockChanged":{if(a.recovering){for(const[f,l]of a.blocks)l.recovering&&ks(a.blocks,f);a.recovering=!1}return a.best=c.bestBlockHash,a}case"finalized":{a.finalized=c.finalizedBlockHashes.slice(-1)[0],a.finalizedRuntime=a.runtimes[a.blocks.get(a.finalized).runtime];const f=[...new Set(c.prunedBlockHashes)];return o(Vu(a,f)),a}case"blockUsage":{if(!a.blocks.has(c.value.hash))return a;const f=a.blocks.get(c.value.hash);return f.refCount+=c.value.type==="hold"?1:-1,f.refCount===0&&f.number<a.blocks.get(a.finalized).number&&!f.recovering&&(f.unpinned=!0,o([f.hash])),a}}},gr()),rt(a=>!!a.finalizedRuntime.runtime),M(a=>({...a})),lt),i=qu(Dt(s,n),s.pipe(M(a=>a.finalized)));return s},gr=()=>({best:"",finalized:"",runtimes:{},blocks:new Map,finalizedRuntime:{},recovering:!1}),Gu=e=>t=>t.pipe(ao(n=>n.type!=="initialized"?et(n):e(n.finalizedBlockHashes[0]).then(r=>({...n,number:r.number,parentHash:r.parentHash})))),Yu=(e,t)=>e.pipe(Zn(n=>n.blocks.has(t)),Je((n,r)=>n.finalized===r.finalized&&n.best===r.best),rt(n=>n.blocks.get(n.best).number>=n.blocks.get(t).number),M(n=>{const{number:r}=n.blocks.get(t);let o=n.blocks.get(n.best),s=n.finalized===o.hash;for(;o.number>r;)o=n.blocks.get(o.parent),s=s||n.finalized===o.hash;return s?"finalized":o.hash===t?"best":null}),Je(),Zn(n=>n!=="finalized",!0));function Xu(e,t,n){return(r,o,...s)=>(o?Oi(Zu(r,t.pipe(gs(),rt(a=>a.type==="finalized"),X(a=>a.prunedBlockHashes))),Qu(r,e)):a=>a)(n(r,...s))}var Qu=(e,t)=>n=>Yu(t,e).pipe($e(1),Sn(r=>r?n:ro(()=>new $u))),Zu=(e,t)=>n=>new C(r=>{const o=t.pipe(rt(i=>i===e)).subscribe(()=>{r.error(new Ku)}),s=n.subscribe(r);return()=>{o.unsubscribe(),s.unsubscribe()}});function Dt(e,t){return(n,...r)=>{const o=t(n,...r);return new C(s=>{let i=null,a=!1;const c=()=>{a||(a=!0,i=o.subscribe({next:h=>s.next(h),error:h=>s.error(h),complete:()=>s.complete()}),i.add(()=>{a=!1,i=null}))};let u=!1;const d=e.subscribe({next:h=>{const f=h.blocks.get(n);f?f.recovering?i==null||i.unsubscribe():c():u&&s.error(new Tn),u=h.recovering},error:h=>s.error(h)});return()=>{d.unsubscribe(),i==null||i.unsubscribe()}})}}var el=e=>{const t=e.pipe(Lt(n=>n instanceof bn?sa(750).pipe(ao(()=>t)):ro(()=>n)));return t},sn=e=>(...t)=>el(e(...t)),tl=(e,t)=>{const n=(r,o,s,i)=>new C(a=>e().storageSubscription(r,o,s??null,c=>{a.next(c)},c=>{a.error(c)},()=>{a.complete()},c=>{c!==0&&a.next(n(r,o.slice(-c),s,!0))})).pipe(oo(),t(i));return n},kr=(e,t,n,r)=>{const o=a=>la(e.pipe(rt(({blocks:c})=>!c.has(a)))),s=(a,c,u)=>{if(u)return et({hash:a,found:{type:!1,isValid:!0}});const d=o(a);return t(a).pipe(X(h=>{const f=h.indexOf(c);return f>-1?d(r(a)).pipe(M(l=>({hash:a,found:{type:!0,index:f,events:l}}))):n(a,c).pipe(M(l=>({hash:a,found:{type:!1,isValid:l}})))}),d)},i=(a,c,u)=>s(a,c,u.has(a)).pipe(X(d=>{const{found:h}=d;return h.type||!h.isValid?et(d):e.pipe(o(a),X(f=>f.blocks.get(a).children),aa(),X(f=>i(f,c,u)))}));return a=>e.pipe($e(1),X(c=>i(c.finalized,a,new Set(c.blocks.keys()))))},nl=new Uint8Array([2]),rl=(e,t)=>Se(Qe(nl,ht(e),ht(t))),ol=e=>(t,n)=>e(t,"TaggedTransactionQueue_validate_transaction",rl(n,t)).pipe(M(r=>r.startsWith("0x00"))),an=({hash:e,number:t,parent:n})=>({hash:e,number:t,parent:n}),sl=e=>{const{getFollower:t,unfollow:n,follow$:r}=Hu(e),o=Mu(t),{withRecovery:s,withRecoveryFn:i}=Wu(),a=new $t,c=w=>(S,...A)=>new C(R=>{a.next({type:"blockUsage",value:{type:"hold",hash:S}});const se=w(S,...A).subscribe(R);return()=>{setTimeout(()=>{a.next({type:"blockUsage",value:{type:"release",hash:S}})},0),se.unsubscribe()}}),u=w=>(S,...A)=>new C(R=>{let se=!1;return m.pipe($e(1)).subscribe(ve=>{const le=ve.blocks.get(S);se=!!le&&!le.unpinned}),se?w(S,...A).subscribe(R):R.error(new Tn)}),d=w=>t().header(w).then(rs.dec),h=w=>t().unpin(w).catch(S=>{if(!(S instanceof _t))throw S}),f=w=>u(c((A=>Xu(m,r,A))(Dt(m,sn(i(wr(w))))))),l=(w,S=!0)=>(A,...R)=>w(A,S,...R),p=sn(i(wr(o("call")))),v=new Map,m=Ju(r,d,c(p),a,w=>{h(w),w.forEach(S=>{v.delete(S)})}),b=c(w=>m.pipe($e(1),X(S=>S.runtimes[S.blocks.get(w).runtime].runtime))),g=w=>S=>S.pipe(Pu(A=>b(w(A)).pipe(M(R=>[A,R])))),E=(w,S,A)=>{var ve;const R=(ve=v.get(w))==null?void 0:ve.get(S);if(R)return R;v.has(w)||v.set(w,new Map);const se=A.pipe(Ht({connector:()=>new En,resetOnError:!0,resetOnRefCountZero:!0,resetOnComplete:!1}));return v.get(w).set(S,se),se},k=m.pipe(Je((w,S)=>w.finalized===S.finalized),M(w=>an(w.blocks.get(w.finalized))),lt),D=m.pipe(Je((w,S)=>w.best===S.best),M(w=>an(w.blocks.get(w.best))),lt),q=m.pipe(Je((w,S)=>w.finalized===S.finalized&&w.best===S.best),co((w,S)=>{const A=te=>w.get(te)||an(S.blocks.get(te)),R=A(S.best),se=A(S.finalized),ve=R.number-se.number+1,le=new Array(ve);for(let te=0,st=R.hash;te<ve;te++)le[te]=A(st),st=le[te].parent;return new Map(le.map(te=>[te.hash,te]))},new Map),M(w=>[...w.values()]),lt),j=m.pipe(Je((w,S)=>w.finalizedRuntime===S.finalizedRuntime),Sn(({finalizedRuntime:{runtime:w}})=>w.pipe(Ru(null))),lt),ue=j.pipe(M(w=>(w==null?void 0:w.metadata)??null)),Re=Uu(k.pipe(M(w=>w.hash)),D.pipe(M(w=>w.hash))),ee=f(o("body")),Te=w=>E(w,"body",ee(w,!0)),je=f(o("storage")),Wn=Re((w,S,A,R,se=null,ve)=>m.pipe($e(1),X(le=>le.runtimes[le.blocks.get(w).runtime].runtime),X(le=>{const te=R(le),st=E(w,`storage-${A}-${te}-${se??""}`,je(w,S,A,te,se));return ve?E(w,`storage-${A}-${te}-${se??""}-dec`,st.pipe(M(Ls=>ve(Ls,le)))):st}))),As=tl(t,s),Is=sn(Re(c(Dt(m,(w,S,A)=>As(w,S,A??null,!1))))),Ds=Re(c(Dt(m,w=>so(()=>d(w)))));io(j,q).subscribe();const Un=(w,S=!1)=>Wn(w,S,"value",A=>A.events.key,null,(A,R)=>R.events.dec(A)),Bs=f(o("call")),Mn=Re((w,S,A,R)=>E(w,`call-${A}-${R}`,Bs(w,S,A,R))),qt=ol(l(Mn,!1)),Kn=w=>E(w,"body",ee(w,!1)),Cs=kr(m,Kn,qt,Un),Os=kr(m,Kn,qt,()=>et());return{follow$:r,finalized$:k,best$:D,bestBlocks$:q,runtime$:j,metadata$:ue,header$:Ds,body$:Te,call$:l(Mn),storage$:l(Wn),storageQueries$:Is,eventsAt$:l(Un),trackTx$:Cs,trackTxWithoutEvents$:Os,validateTx$:qt,pinnedBlocks$:m,withRuntime:g,getRuntimeContext$:Re(b),unfollow:n}},il=e=>t=>new C(n=>e(t,r=>{n.error(r)})),Es=({chainHead:e,transaction:t,destroy:n})=>({chainHead$:()=>sl(e),broadcastTx$:il(t),destroy:n}),[al,cl,ul]=["follow","unfollow","followEvent"].map(e=>new Set(["v1","unstable"].map(t=>`chainHead_${t}_${e}`))),Er="stop",ll=e=>{let t="";return{onSent(n){return al.has(n.method)?(t=n.method+"Event",{type:"subscribe",id:n.id,onRes:r=>r.id===n.id?{id:r.result}:null}):cl.has(n.method)?{type:"unsubscribe",id:Object.values(n.params)[0]}:null},onNotification(n){return ul.has(n.method)&&n.params.result.event===Er?{type:"end",id:n.params.subscription}:null},onAbort:n=>{e(JSON.stringify({jsonrpc:"2.0",method:t,params:{subscription:n,result:{event:Er}}}))}}},fl=["v1","unstable"],dl=["transactionWatch","transaction"],hl=fl.map(e=>dl.map(t=>[e,t])).flat(),[pl,vl]=["submitAndWatch","unwatch"].map(e=>new Set(hl.map(([t,n])=>`${n}_${t}_${e}`))),Ss="dropped",ml=new Set([Ss,"finalized","error","invalid"]),bl=e=>{let t="";return{onSent(n){if(pl.has(n.method)){if(!t){const[r,o]=n.method.split("_");t=[r,o,"watchEvent"].join("_")}return{type:"subscribe",id:n.id,onRes:r=>r.id===n.id?{id:r.result}:null}}return vl.has(n.method)?{type:"unsubscribe",id:Object.values(n.params)[0]}:null},onNotification(n){return t!==n.method?null:ml.has(n.params.result.event)?{type:"end",id:n.params.subscription}:null},onAbort:n=>{e(JSON.stringify({jsonrpc:"2.0",method:t,params:{subscription:n,result:{event:Ss}}}))}}},yl=({onSent:e,onNotification:t,onAbort:n})=>{const r=new Map,o=new Set,s=()=>{r.clear(),o.clear()};return{onSent(i){const a=e(i);a&&(a.type==="subscribe"?r.set(a.id,a.onRes):o.delete(a.id))},onResponse(i){var c;const a=(c=r.get(i.id))==null?void 0:c(i);a&&(r.delete(i.id),o.add(a.id))},onNotifiaction(i){const a=t(i);a&&o.delete(a.id)},onDisconnect:s,onAbort(){const i=[...o];s(),i.forEach(n)}}},wl=e=>{const t=[ll,bl].map(n=>yl(n(e)));return{onSent(n){t.forEach(r=>{r.onSent(n)})},onResponse(n){t.forEach(r=>{r.onResponse(n)})},onNotifiaction(n){t.forEach(r=>{r.onNotifiaction(n)})},onDisconnect(){t.forEach(n=>n.onDisconnect())},onAbort(){t.forEach(n=>n.onAbort())}}},gl=e=>t=>{let n,r=[];const o=new Set,s=wl(t),i=h=>{let f;try{f=JSON.parse(h)}catch{console.error(`Unable to parse incoming message: ${h}`);return}f.id!==void 0?(o.delete(f.id),s.onResponse(f)):s.onNotifiaction(f),t(h)},a=h=>{if(!n)return;const f=JSON.parse(h);s.onSent(f),f.id&&o.add(f.id),n instanceof Promise?r.push(h):n.send(h)},c=()=>{r=[];const h=[...o];if(o.clear(),!n)throw null;const f=u();return s.onAbort(),h.forEach(l=>{t(JSON.stringify({jsonrpc:"2.0",error:{code:-32603,message:"Internal error"},id:l}))}),f},u=()=>{const h=f=>{let l=!1;const m=f(b=>{l||i(b)},()=>{l||(l=!0,c())});return r.forEach(b=>{m.send(b)}),r=[],n=m};return n=e().then(h,kl(c)),n},d=()=>{if(!n)return;const h=f=>{s.onDisconnect(),o.clear(),n=null,f==null||f.disconnect()};n instanceof Promise?(n.then(h,h),n=null):h(n)};return u(),{send:a,disconnect:d}},kl=e=>(...t)=>new Promise(n=>setTimeout(n,0)).then(()=>e(...t));const Oe={banknote:"💵",brick:"🧱",chain:"🔗",chequeredFlag:"🏁",clock:"🕒",info:"ℹ️",newspaper:"🗞️",seedling:"🌱",stethoscope:"🩺",tick:"✅"};class El{constructor(t,n){N(this,"options");N(this,"model");N(this,"container");N(this,"syncState");N(this,"syncMessage");N(this,"timeElapsed",(t,n)=>((n-t)/1e3).toFixed(2));N(this,"timestampHtml",t=>{const n=document.createElement("time");if(!t)return n;const r=performance.now();return n.appendChild(document.createTextNode(`${new Date().toLocaleTimeString()} (${this.timeElapsed(this.model.loadTime,r)}s)`)),n});N(this,"messageHtml",(t,n)=>{const r=document.createElement("div");return r.classList.add("message"),r.appendChild(this.timestampHtml(n)),r.appendChild(document.createTextNode(t)),r});N(this,"errorHtml",t=>{const n=document.createElement("div");return n.classList.add("message"),n.classList.add("error"),n.appendChild(document.createTextNode(t)),n});N(this,"displayMessage",t=>{this.container.appendChild(t)});N(this,"error",t=>{throw this.displayMessage(this.errorHtml(t.message)),t});N(this,"log",(t,n)=>{this.displayMessage(this.messageHtml(t,n))});N(this,"insertAtTopOfContainer",t=>{this.container.firstChild==null?this.container.appendChild(t):this.container.insertBefore(t,this.container.firstChild)});N(this,"ensureClassOn",(t,n)=>{t.classList.contains(n)||t.classList.add(n)});N(this,"showSyncing",()=>{if(this.syncMessage)this.syncMessage.innerHTML=`${Oe.chain} Parachain is syncing...`,this.ensureClassOn(this.syncMessage,"pulse");else{const t=document.createElement("div");t.classList.add("message"),t.appendChild(this.timestampHtml());const n=document.createElement("em");n.classList.add("pulse"),n.innerHTML=`${Oe.chain} Parachain is syncing...`,t.appendChild(n),this.syncMessage=n,this.syncState=t,this.insertAtTopOfContainer(this.syncState)}});N(this,"showSynced",()=>{if(!this.syncState||!this.syncMessage)throw new Error("There is no sync state UI to update. You should have called `showSyncing()` first.");this.syncMessage.classList.remove("pulse"),this.syncMessage.innerHTML=`${Oe.tick} Parachain synced!`});this.options=t,this.model=n;const r=document.getElementById(this.options.containerId);if(r===null)throw Error("Could not find the container. Did you change the Html?");this.container=r}}var Sl=`{
  "name": "Westend Asset Hub",
  "id": "asset-hub-westend",
  "chainType": "Live",
  "bootNodes": [
    "/dns/westend-asset-hub-bootnode-0.polkadot.io/tcp/30333/p2p/12D3KooWJaAfPyiye7ZQBuHengTJJoMrcaz7Jj1UzHiKdNxA1Nkd",
    "/dns/westend-asset-hub-bootnode-1.polkadot.io/tcp/30333/p2p/12D3KooWGL3hpWycWyeqyL9gHNnmmsL474WkPZdqraBHu4L6fQrW",
    "/dns/boot.stake.plus/tcp/33333/p2p/12D3KooWNiB27rpXX7EYongoWWUeRKzLQxWGms6MQU2B9LX7Ztzo",
    "/dns/boot.stake.plus/tcp/33334/wss/p2p/12D3KooWNiB27rpXX7EYongoWWUeRKzLQxWGms6MQU2B9LX7Ztzo",
    "/dns/boot.metaspan.io/tcp/36052/p2p/12D3KooWBCqfNb6Y39DXTr4UBWXyjuS3hcZM1qTbHhDXxF6HkAJJ",
    "/dns/boot.metaspan.io/tcp/36056/wss/p2p/12D3KooWBCqfNb6Y39DXTr4UBWXyjuS3hcZM1qTbHhDXxF6HkAJJ",
    "/dns/boot-cr.gatotech.network/tcp/33310/p2p/12D3KooWMSW6hr8KcNBhGFN1bg8kYC76o67PnuDEbxRhxacW6dui",
    "/dns/boot-cr.gatotech.network/tcp/35310/wss/p2p/12D3KooWMSW6hr8KcNBhGFN1bg8kYC76o67PnuDEbxRhxacW6dui",
    "/dns/westmint-bootnode.turboflakes.io/tcp/30325/p2p/12D3KooWHU4qqSyqKdbXdrCTMXUJxxueaZjqpqSaQqYiFPw6XqEx",
    "/dns/westmint-bootnode.turboflakes.io/tcp/30425/wss/p2p/12D3KooWHU4qqSyqKdbXdrCTMXUJxxueaZjqpqSaQqYiFPw6XqEx",
    "/dns/boot-node.helikon.io/tcp/10200/p2p/12D3KooWMRY8wb7rMT81LLuivvsy6ahUxKHQgYJw4zm1hC1uYLxb",
    "/dns/boot-node.helikon.io/tcp/10202/wss/p2p/12D3KooWMRY8wb7rMT81LLuivvsy6ahUxKHQgYJw4zm1hC1uYLxb",
    "/dns/westmint.bootnode.amforc.com/tcp/30339/p2p/12D3KooWNjKeaANaeZxBAPctmx8jugSYzuw4vnSCJmEDPB5mtRd6",
    "/dns/westmint.bootnode.amforc.com/tcp/30333/wss/p2p/12D3KooWNjKeaANaeZxBAPctmx8jugSYzuw4vnSCJmEDPB5mtRd6",
    "/dns/westmint-boot-ng.dwellir.com/tcp/30345/p2p/12D3KooWFZ9xqApB1wnFYkbe1qJ5Jqwxe2f3i8W25F3tKNXy59ux",
    "/dns/westmint-boot-ng.dwellir.com/tcp/443/wss/p2p/12D3KooWFZ9xqApB1wnFYkbe1qJ5Jqwxe2f3i8W25F3tKNXy59ux",
    "/dns/westmint-bootnode.radiumblock.com/tcp/30336/wss/p2p/12D3KooWDoq4PVdWm5nzRSvEz3DSSKjVgRhWVUaKyi5JMKwJKYbk",
    "/dns/westmint-bootnode.radiumblock.com/tcp/30333/p2p/12D3KooWDoq4PVdWm5nzRSvEz3DSSKjVgRhWVUaKyi5JMKwJKYbk",
    "/dns/wmint14.rotko.net/tcp/33534/p2p/12D3KooWE4UDXqgtTcMCyUQ8S4uvaT8VMzzTBA6NWmKuYwTacWuN",
    "/dns/wmint14.rotko.net/tcp/34534/ws/p2p/12D3KooWE4UDXqgtTcMCyUQ8S4uvaT8VMzzTBA6NWmKuYwTacWuN",
    "/dns/wmint14.rotko.net/tcp/35534/wss/p2p/12D3KooWE4UDXqgtTcMCyUQ8S4uvaT8VMzzTBA6NWmKuYwTacWuN",
    "/dns/asset-hub-westend.bootnodes.polkadotters.com/tcp/30514/p2p/12D3KooWNFYysCqmojxqjjaTfD2VkWBNngfyUKWjcR4WFixfHNTk",
    "/dns/asset-hub-westend.bootnodes.polkadotters.com/tcp/30516/wss/p2p/12D3KooWNFYysCqmojxqjjaTfD2VkWBNngfyUKWjcR4WFixfHNTk"
  ],
  "relay_chain": "westend2",
  "properties": {
    "tokenDecimals": 12,
    "tokenSymbol": "WND"
  },
  "para_id": 1000,
  "consensusEngine": null,
  "genesis": {
    "stateRootHash": "0x1d0ce8ef6a9eef1685c4715925cf91ed1af635a752eac4f9945b1a1a4e2b6e51"
  }
}
`,xl=`{
  "name": "Kusama Asset Hub",
  "id": "asset-hub-kusama",
  "chainType": "Live",
  "bootNodes": [
    "/dns/kusama-asset-hub-connect-0.polkadot.io/tcp/30334/p2p/12D3KooWMzvdGcUXxacLdMQzRVrsP1mJrZHcrz8LtGbhLzve84Qx",
    "/dns/kusama-asset-hub-connect-0.polkadot.io/tcp/443/wss/p2p/12D3KooWMzvdGcUXxacLdMQzRVrsP1mJrZHcrz8LtGbhLzve84Qx",
    "/dns/kusama-asset-hub-connect-1.polkadot.io/tcp/30334/p2p/12D3KooWQmGf5z3DU1kKcZoLzMNgdbP31ybjuwxS1VGLKMUjq5ez",
    "/dns/kusama-asset-hub-connect-1.polkadot.io/tcp/443/wss/p2p/12D3KooWQmGf5z3DU1kKcZoLzMNgdbP31ybjuwxS1VGLKMUjq5ez",
    "/dns/boot.stake.plus/tcp/34333/p2p/12D3KooWAzSSZ7jLqMw1WPomYEKCYANQaKemXQ8BKoFvNEvfmdqR",
    "/dns/boot.stake.plus/tcp/34334/wss/p2p/12D3KooWAzSSZ7jLqMw1WPomYEKCYANQaKemXQ8BKoFvNEvfmdqR",
    "/dns/boot.metaspan.io/tcp/26052/p2p/12D3KooW9z9hKqe3mqYAp5UJMhZiCqhkTHyiR43fegnGmTJ3JAba",
    "/dns/boot.metaspan.io/tcp/26056/wss/p2p/12D3KooW9z9hKqe3mqYAp5UJMhZiCqhkTHyiR43fegnGmTJ3JAba",
    "/dns/boot-cr.gatotech.network/tcp/33210/p2p/12D3KooWRMUYeWMPkadDG8baX9j1e95fspfp8MhPGym5BQza7Fm5",
    "/dns/boot-cr.gatotech.network/tcp/35210/wss/p2p/12D3KooWRMUYeWMPkadDG8baX9j1e95fspfp8MhPGym5BQza7Fm5",
    "/dns/statemine-bootnode.turboflakes.io/tcp/30320/p2p/12D3KooWN2Qqvp5wWgjbBMpbqhKgvSibSHfomP5VWVD9VCn3VrV4",
    "/dns/statemine-bootnode.turboflakes.io/tcp/30420/wss/p2p/12D3KooWN2Qqvp5wWgjbBMpbqhKgvSibSHfomP5VWVD9VCn3VrV4",
    "/dns/boot-node.helikon.io/tcp/10210/p2p/12D3KooWFXRQce3aMgZMn5SxvHtYH4PsR63TZLf8LrnBsEVTyzdr",
    "/dns/boot-node.helikon.io/tcp/10212/wss/p2p/12D3KooWFXRQce3aMgZMn5SxvHtYH4PsR63TZLf8LrnBsEVTyzdr",
    "/dns/statemine.bootnode.amforc.com/tcp/30336/p2p/12D3KooWHmSyrBWsc6fdpq8HtCFWasmLVLYGKWA2a78m4xAHKyBq",
    "/dns/statemine.bootnode.amforc.com/tcp/30333/wss/p2p/12D3KooWHmSyrBWsc6fdpq8HtCFWasmLVLYGKWA2a78m4xAHKyBq",
    "/dns/statemine-boot-ng.dwellir.com/tcp/30343/p2p/12D3KooWQNJKBaNfW6Nn7HZDi5pSSEFmHL2Qz7chr9RksQUDR1Wk",
    "/dns/statemine-boot-ng.dwellir.com/tcp/443/wss/p2p/12D3KooWQNJKBaNfW6Nn7HZDi5pSSEFmHL2Qz7chr9RksQUDR1Wk",
    "/dns/statemine-bootnode.radiumblock.com/tcp/30333/p2p/12D3KooWCKUrE5uaXQ288ko3Ex3zCyozyJLG47KEYTopinnXNtYL",
    "/dns/statemine-bootnode.radiumblock.com/tcp/30336/wss/p2p/12D3KooWCKUrE5uaXQ288ko3Ex3zCyozyJLG47KEYTopinnXNtYL",
    "/dns/mine14.rotko.net/tcp/33524/p2p/12D3KooWJUFnjR2PNbsJhudwPVaWCoZy1acPGKjM2cSuGj345BBu",
    "/dns/mine14.rotko.net/tcp/34524/ws/p2p/12D3KooWJUFnjR2PNbsJhudwPVaWCoZy1acPGKjM2cSuGj345BBu",
    "/dns/mine14.rotko.net/tcp/35524/wss/p2p/12D3KooWJUFnjR2PNbsJhudwPVaWCoZy1acPGKjM2cSuGj345BBu",
    "/dns/asset-hub-kusama.bootnodes.polkadotters.com/tcp/30511/p2p/12D3KooWDpk7wVH7RgjErEvbvAZ2kY5VeaAwRJP5ojmn1e8b8UbU",
    "/dns/asset-hub-kusama.bootnodes.polkadotters.com/tcp/30513/wss/p2p/12D3KooWDpk7wVH7RgjErEvbvAZ2kY5VeaAwRJP5ojmn1e8b8UbU"
  ],
  "properties": {
    "ss58Format": 2,
    "tokenDecimals": 12,
    "tokenSymbol": "KSM"
  },
  "relay_chain": "ksmcc3",
  "para_id": 1000,
  "consensusEngine": null,
  "genesis": {
    "stateRootHash": "0x299ac939ea4722d1fcf7f4873675040ebc83d144620c76206dbeb7468cf30cdf"
  }
}
`,xs=`{
  "name": "Polkadot Asset Hub",
  "id": "asset-hub-polkadot",
  "chainType": "Live",
  "bootNodes": [
    "/dns/polkadot-asset-hub-connect-0.polkadot.io/tcp/30334/p2p/12D3KooWLHqbcQtoBygf7GJgVjVa3TaeLuf7VbicNdooaCmQM2JZ",
    "/dns/polkadot-asset-hub-connect-0.polkadot.io/tcp/443/wss/p2p/12D3KooWLHqbcQtoBygf7GJgVjVa3TaeLuf7VbicNdooaCmQM2JZ",
    "/dns/polkadot-asset-hub-connect-1.polkadot.io/tcp/30334/p2p/12D3KooWNDrKSayoZXGGE2dRSFW2g1iGPq3fTZE2U39ma9yZGKd3",
    "/dns/polkadot-asset-hub-connect-1.polkadot.io/tcp/443/wss/p2p/12D3KooWNDrKSayoZXGGE2dRSFW2g1iGPq3fTZE2U39ma9yZGKd3",
    "/dns/boot.stake.plus/tcp/35333/p2p/12D3KooWFrQjYaPZSSLLxEVmoaHFcrF6VoY4awG4KRSLaqy3JCdQ",
    "/dns/boot.stake.plus/tcp/35334/wss/p2p/12D3KooWFrQjYaPZSSLLxEVmoaHFcrF6VoY4awG4KRSLaqy3JCdQ",
    "/dns/boot.metaspan.io/tcp/16052/p2p/12D3KooWLwiJuvqQUB4kYaSjLenFKH9dWZhGZ4qi7pSb3sUYU651",
    "/dns/boot.metaspan.io/tcp/16056/wss/p2p/12D3KooWLwiJuvqQUB4kYaSjLenFKH9dWZhGZ4qi7pSb3sUYU651",
    "/dns/boot-cr.gatotech.network/tcp/33110/p2p/12D3KooWKgwQfAeDoJARdtxFNNWfbYmcu6s4yUuSifnNoDgzHZgm",
    "/dns/boot-cr.gatotech.network/tcp/35110/wss/p2p/12D3KooWKgwQfAeDoJARdtxFNNWfbYmcu6s4yUuSifnNoDgzHZgm",
    "/dns/statemint-bootnode.turboflakes.io/tcp/30315/p2p/12D3KooWL8CyLww3m3pRySQGGYGNJhWDMqko3j5xi67ckP7hDUvo",
    "/dns/statemint-bootnode.turboflakes.io/tcp/30415/wss/p2p/12D3KooWL8CyLww3m3pRySQGGYGNJhWDMqko3j5xi67ckP7hDUvo",
    "/dns/boot-node.helikon.io/tcp/10220/p2p/12D3KooW9uybhguhDjVJc3U3kgZC3i8rWmAnSpbnJkmuR7C6ZsRW",
    "/dns/boot-node.helikon.io/tcp/10222/wss/p2p/12D3KooW9uybhguhDjVJc3U3kgZC3i8rWmAnSpbnJkmuR7C6ZsRW",
    "/dns/statemint.bootnode.amforc.com/tcp/30341/p2p/12D3KooWByohP9FXn7ao8syS167qJsbFdpa7fY2Y24xbKtt3r7Ls",
    "/dns/statemint.bootnode.amforc.com/tcp/30333/wss/p2p/12D3KooWByohP9FXn7ao8syS167qJsbFdpa7fY2Y24xbKtt3r7Ls",
    "/dns/statemint-boot-ng.dwellir.com/tcp/30344/p2p/12D3KooWEFrNuNk8fPdQS2hf34Gmqi6dGSvrETshGJUrqrvfRDZr",
    "/dns/statemint-boot-ng.dwellir.com/tcp/443/wss/p2p/12D3KooWEFrNuNk8fPdQS2hf34Gmqi6dGSvrETshGJUrqrvfRDZr",
    "/dns/statemint-bootnode.radiumblock.com/tcp/30336/wss/p2p/12D3KooWLKxHom7f3XawRJqrF8RwiKK5Sj3qZqz5c7hF6eJeXhTx",
    "/dns/statemint-bootnode.radiumblock.com/tcp/30333/p2p/12D3KooWLKxHom7f3XawRJqrF8RwiKK5Sj3qZqz5c7hF6eJeXhTx",
    "/dns/mint14.rotko.net/tcp/33514/p2p/12D3KooWKkzLjYF6M5eEs7nYiqEtRqY8SGVouoCwo3nCWsRnThDW",
    "/dns/mint14.rotko.net/tcp/34514/ws/p2p/12D3KooWKkzLjYF6M5eEs7nYiqEtRqY8SGVouoCwo3nCWsRnThDW",
    "/dns/mint14.rotko.net/tcp/35514/wss/p2p/12D3KooWKkzLjYF6M5eEs7nYiqEtRqY8SGVouoCwo3nCWsRnThDW",
    "/dns/asset-hub-polkadot.bootnodes.polkadotters.com/tcp/30508/p2p/12D3KooWKbfY9a9oywxMJKiALmt7yhrdQkjXMtvxhhDDN23vG93R",
    "/dns/asset-hub-polkadot.bootnodes.polkadotters.com/tcp/30510/wss/p2p/12D3KooWKbfY9a9oywxMJKiALmt7yhrdQkjXMtvxhhDDN23vG93R"
  ],
  "properties": {
    "ss58Format": 0,
    "tokenDecimals": 10,
    "tokenSymbol": "DOT"
  },
  "relay_chain": "polkadot",
  "para_id": 1000,
  "consensusEngine": null,
  "codeSubstitutes": {},
  "genesis": {
    "stateRootHash": "0xc1ef26b567de07159e4ecd415fbbb0340c56a09c4d72c82516d0f3bc2b782c80"
  }
}
`;window.onload=()=>{[[[z.polkadot],"polkadot"],[[z.ksmcc3],"kusama"],[[z.westend2],"westend"],[[xs,z.polkadot],"asset-hub-polkadot"],[[xl,z.ksmcc3],"asset-hub-kusama"],[[Sl,z.westend2],"asset-hub-westend"]].forEach(([e,t])=>_l(e,t)),Al()};const _l=([e,t],n)=>{const r=document.getElementById(n);if(!r)return;const o=Or(_s(e,t));Es(o).chainHead$().bestBlocks$.pipe(M(s=>s[0]),rt(Boolean)).subscribe(({number:s})=>{r.setAttribute("data-blockheight",`${s}`),r.innerText=`#${s}`})},Al=async()=>{const e=new El({containerId:"messages"},{loadTime:performance.now()});e.showSyncing();const t=Or(_s(xs,z.polkadot));Es(t).chainHead$().follow$.subscribe(async n=>{if(n.type!=="initialized")return;e.showSynced();const[r,o,s]=await Promise.all(["chainSpec_v1_genesisHash","chainSpec_v1_chainName","chainSpec_v1_properties"].map(i=>new Promise((a,c)=>t._request(i,[],{onSuccess:a,onError:c}))));e.log(`${Oe.seedling} Light client ready`,!0),e.log(`${Oe.info} Connected to ${o}`),e.log(`${Oe.chequeredFlag} Token decimals: ${s==null?void 0:s.tokenDecimals} - symbol: ${s==null?void 0:s.tokenSymbol}`),e.log(`${Oe.chequeredFlag} Genesis hash is ${r}`),t._request("system_health",[],{onSuccess(i){const a=`${i.peers} ${i.peers===1?"peer":"peers"}`;e.log(`${Oe.stethoscope} Parachain is syncing with ${a}`)},onError(i){console.error(i)}})})},Il=new Set(Object.values(z)),Dl=e=>Il.has(e),Sr=()=>{};let cn;const _s=(e,t)=>{cn??(cn=si());const n=(r,o)=>Dl(r)?cn.addWellKnownChain(r,o):cn.addChain(r,o);return gl(async()=>{let r=Sr;const o=i=>{r(i)};let s;try{const i=t?await n(t):void 0;s=i?await i.addChain(e,o):await n(e,o)}catch(i){throw console.warn(`couldn't create chain with: ${e} ${t??""}`),console.error(i),i}return i=>(r=i,{send(a){s.sendJsonRpc(a)},disconnect(){r=Sr,s.remove()}})})};
